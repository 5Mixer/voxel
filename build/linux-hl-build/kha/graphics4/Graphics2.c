// Generated by HLC 4.1.3 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <kha/graphics4/Graphics2.h>
#include <kha/Framebuffer.h>
extern hl_type t$fun_4dc72d5;
extern kha__$Framebuffer g$_kha_Framebuffer;
bool Std_isOfType(vdynamic*,vdynamic*);
bool kha_Image_get_nonPow2Supported(void);
bool kha_Image_renderTargetsInvertedY(void);
void kha_graphics4_ImageShaderPainter_setProjection(kha__graphics4__ImageShaderPainter,kha__math__FastMatrix4);
void kha_graphics4_ColoredShaderPainter_setProjection(kha__graphics4__ColoredShaderPainter,kha__math__FastMatrix4);
void kha_graphics4_TextShaderPainter_setProjection(kha__graphics4__TextShaderPainter,kha__math__FastMatrix4);
#include <kha/graphics4/ColoredShaderPainter.h>
#include <kha/graphics4/ImageShaderPainter.h>
extern kha__graphics4__$ColoredShaderPainter g$59e5fb3;
void kha_graphics4_ColoredShaderPainter_drawTriBuffer(kha__graphics4__ColoredShaderPainter,bool);
void kha_graphics4_ColoredShaderPainter_drawBuffer(kha__graphics4__ColoredShaderPainter,bool);
void kha_graphics4_TextShaderPainter_end(kha__graphics4__TextShaderPainter);
int kha_Image_get_width(kha__Image);
int kha_Image_get_height(kha__Image);
double kha_graphics2_Graphics_get_opacity(kha__graphics2__Graphics);
int kha_graphics4_Graphics2_get_color(kha__graphics4__Graphics2);
extern kha__graphics4__$ImageShaderPainter g$a0efbdf;
void kha_graphics4_ImageShaderPainter_drawBuffer(kha__graphics4__ImageShaderPainter,bool);
#include <hl/natives.h>
int kha_Image_get_realWidth(kha__Image);
int kha_Image_get_realHeight(kha__Image);
void kha_graphics4_ImageShaderPainter_end(kha__graphics4__ImageShaderPainter);
void kha_graphics4_ColoredShaderPainter_fillRect(kha__graphics4__ColoredShaderPainter,float,int,double,double,double,double,double,double,double,double);
void kha_graphics4_TextShaderPainter_drawString(kha__graphics4__TextShaderPainter,String,float,int,double,double,kha__math__FastMatrix3);
#include <hl/types/ArrayBytes_Int.h>
void kha_graphics4_TextShaderPainter_drawCharacters(kha__graphics4__TextShaderPainter,hl__types__ArrayBytes_Int,int,int,float,int,double,double,kha__math__FastMatrix3);
void kha_graphics4_TextShaderPainter_setFont(kha__graphics4__TextShaderPainter,kha__Kravur);
int kha_graphics2_Graphics_set_fontSize(kha__graphics2__Graphics,int);
void kha_graphics4_ColoredShaderPainter_fillTriangle(kha__graphics4__ColoredShaderPainter,float,int,double,double,double,double,double,double);
void kha_graphics4_ImageShaderPainter_setBilinearFilter(kha__graphics4__ImageShaderPainter,bool);
void kha_graphics4_TextShaderPainter_setBilinearFilter(kha__graphics4__TextShaderPainter,bool);
void kha_graphics4_ImageShaderPainter_setBilinearMipmapFilter(kha__graphics4__ImageShaderPainter,bool);
#include <kha/graphics4/InternalPipeline.h>
#include <kha/graphics4/SimplePipelineCache.h>
void kha_graphics4_Graphics2_flush(kha__graphics4__Graphics2);
vvirtual* kha_graphics4_ImageShaderPainter_set_pipeline(kha__graphics4__ImageShaderPainter,vvirtual*);
vvirtual* kha_graphics4_ColoredShaderPainter_set_pipeline(kha__graphics4__ColoredShaderPainter,vvirtual*);
vvirtual* kha_graphics4_TextShaderPainter_set_pipeline(kha__graphics4__TextShaderPainter,vvirtual*);
vdynamic* haxe_ds_ObjectMap_get(haxe__ds__ObjectMap,vdynamic*);
extern hl_type t$vrt_39c470b;
extern hl_type t$kha_graphics4_SimplePipelineCache;
void kha_graphics4_SimplePipelineCache_new(kha__graphics4__SimplePipelineCache,kha__graphics4__PipelineState,bool);
void haxe_ds_ObjectMap_set(haxe__ds__ObjectMap,vdynamic*,vdynamic*);
extern hl_type t$fun_5ac3579;
extern hl_type t$fun_4c7a70a;
extern kha__graphics4__$Graphics2 g$_kha_graphics4_Graphics2;
extern String s$End_before_you_begin;
vdynamic* haxe_Exception_thrown(vdynamic*);
extern hl_type t$fun_58e3acc;
void kha_graphics4_Graphics2_clear(kha__graphics4__Graphics2,vdynamic*);
extern hl_type t$_i32;
extern hl_type t$fun_5967954;
extern String s$Begin_before_you_end;
extern hl_type t$kha_graphics4_VertexStructure;
void kha_graphics4_VertexStructure_new(kha__graphics4__VertexStructure);
extern String s$vertexPosition;
void kha_graphics4_VertexStructure_add(kha__graphics4__VertexStructure,String,int);
extern String s$texPosition;
extern String s$vertexColor;
#include <kha/graphics4/FragmentShader.h>
#include <kha/Shaders.h>
#include <kha/graphics4/VertexShader.h>
extern hl_type t$kha_graphics4_PipelineState;
void kha_graphics4_PipelineState_new(kha__graphics4__PipelineState);
extern kha__$Shaders g$_kha_Shaders;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$haxe_ds_ObjectMap;
void haxe_ds_ObjectMap_new(haxe__ds__ObjectMap);
void kha_graphics2_Graphics_new(kha__graphics2__Graphics);
extern hl_type t$fun_540795c;
extern hl_type t$kha_graphics4_ImageShaderPainter;
void kha_graphics4_ImageShaderPainter_new(kha__graphics4__ImageShaderPainter,vvirtual*);
extern hl_type t$kha_graphics4_ColoredShaderPainter;
void kha_graphics4_ColoredShaderPainter_new(kha__graphics4__ColoredShaderPainter,vvirtual*);
extern hl_type t$kha_graphics4_TextShaderPainter;
void kha_graphics4_TextShaderPainter_new(kha__graphics4__TextShaderPainter,vvirtual*);
int kha_graphics2_Graphics_get_fontSize(kha__graphics2__Graphics);
extern hl_type t$kha_math_FastMatrix4;
void kha_math_FastMatrix4_new(kha__math__FastMatrix4,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float);
void kha_graphics4_PipelineState_compile(kha__graphics4__PipelineState);

int kha_graphics4_Graphics2_upperPowerOfTwo(int r0) {
	int r1, r2, r3;
	--r0;
	r3 = 1;
	r2 = ((unsigned)r0) >> r3;
	r1 = r0 | r2;
	r3 = 2;
	r2 = ((unsigned)r1) >> r3;
	r1 = r1 | r2;
	r3 = 4;
	r2 = ((unsigned)r1) >> r3;
	r1 = r1 | r2;
	r3 = 8;
	r2 = ((unsigned)r1) >> r3;
	r1 = r1 | r2;
	r3 = 16;
	r2 = ((unsigned)r1) >> r3;
	r1 = r1 | r2;
	r0 = r1;
	++r0;
	return r0;
}

void kha_graphics4_Graphics2_setProjection(kha__graphics4__Graphics2 r0) {
	vvirtual *r2;
	kha__math__FastMatrix4 r7;
	bool r5;
	kha__$Framebuffer r6;
	kha__graphics4__ImageShaderPainter r27;
	kha__graphics4__TextShaderPainter r29;
	kha__graphics4__ColoredShaderPainter r28;
	float r9, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26;
	double r8, r11;
	int r1, r4, r10;
	r2 = r0->canvas;
	if( r2 == NULL ) hl_null_access();
	if( hl_vfields(r2)[2] ) r1 = ((int (*)(vdynamic*))hl_vfields(r2)[2])(r2->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r2->value,&t$fun_4dc72d5,235672157/*get_width*/,NULL,&ret);
		r1 = (int)ret.v.i;
	}
	r2 = r0->canvas;
	if( r2 == NULL ) hl_null_access();
	if( hl_vfields(r2)[3] ) r4 = ((int (*)(vdynamic*))hl_vfields(r2)[3])(r2->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r2->value,&t$fun_4dc72d5,-221022288/*get_height*/,NULL,&ret);
		r4 = (int)ret.v.i;
	}
	r2 = r0->canvas;
	r6 = (kha__$Framebuffer)g$_kha_Framebuffer;
	r5 = Std_isOfType(((vdynamic*)r2),((vdynamic*)r6));
	if( !r5 ) goto label$30de1a7_2_81;
	r7 = r0->projectionMatrix;
	r9 = (float)r1;
	r9 = -r9;
	r8 = (double)r9;
	r11 = (double)r1;
	r8 = r8 / r11;
	r9 = (float)r8;
	r12 = (float)r4;
	r12 = -r12;
	r8 = (double)r12;
	r10 = 0;
	r12 = (float)r10;
	r13 = (float)r4;
	r12 = r12 - r13;
	r11 = (double)r12;
	r8 = r8 / r11;
	r12 = (float)r8;
	r8 = -1.000200020002000256;
	r13 = (float)r8;
	r8 = 2.;
	r11 = (double)r1;
	r8 = r8 / r11;
	r14 = (float)r8;
	r10 = 0;
	r15 = (float)r10;
	r10 = 0;
	r16 = (float)r10;
	r10 = 0;
	r17 = (float)r10;
	r8 = 2.;
	r10 = 0;
	r18 = (float)r10;
	r19 = (float)r4;
	r18 = r18 - r19;
	r11 = (double)r18;
	r8 = r8 / r11;
	r18 = (float)r8;
	r10 = 0;
	r19 = (float)r10;
	r10 = 0;
	r20 = (float)r10;
	r10 = 0;
	r21 = (float)r10;
	r8 = -0.002000200020002000211;
	r22 = (float)r8;
	r10 = 0;
	r23 = (float)r10;
	r10 = 0;
	r24 = (float)r10;
	r10 = 0;
	r25 = (float)r10;
	r10 = 1;
	r26 = (float)r10;
	if( r7 == NULL ) hl_null_access();
	r7->_00 = r14;
	r7->_10 = r15;
	r7->_20 = r16;
	r7->_30 = r9;
	r7->_01 = r17;
	r7->_11 = r18;
	r7->_21 = r19;
	r7->_31 = r12;
	r7->_02 = r20;
	r7->_12 = r21;
	r7->_22 = r22;
	r7->_32 = r13;
	r7->_03 = r23;
	r7->_13 = r24;
	r7->_23 = r25;
	r7->_33 = r26;
	goto label$30de1a7_2_222;
	label$30de1a7_2_81:
	r5 = kha_Image_get_nonPow2Supported();
	if( r5 ) goto label$30de1a7_2_87;
	r10 = kha_graphics4_Graphics2_upperPowerOfTwo(r1);
	r1 = r10;
	r10 = kha_graphics4_Graphics2_upperPowerOfTwo(r4);
	r4 = r10;
	label$30de1a7_2_87:
	r5 = kha_Image_renderTargetsInvertedY();
	if( !r5 ) goto label$30de1a7_2_152;
	r7 = r0->projectionMatrix;
	r9 = (float)r1;
	r9 = -r9;
	r8 = (double)r9;
	r11 = (double)r1;
	r8 = r8 / r11;
	r9 = (float)r8;
	r12 = (float)r4;
	r12 = -r12;
	r8 = (double)r12;
	r11 = (double)r4;
	r8 = r8 / r11;
	r12 = (float)r8;
	r8 = -1.000200020002000256;
	r13 = (float)r8;
	r8 = 2.;
	r11 = (double)r1;
	r8 = r8 / r11;
	r14 = (float)r8;
	r10 = 0;
	r15 = (float)r10;
	r10 = 0;
	r16 = (float)r10;
	r10 = 0;
	r17 = (float)r10;
	r8 = 2.;
	r11 = (double)r4;
	r8 = r8 / r11;
	r18 = (float)r8;
	r10 = 0;
	r19 = (float)r10;
	r10 = 0;
	r20 = (float)r10;
	r10 = 0;
	r21 = (float)r10;
	r8 = -0.002000200020002000211;
	r22 = (float)r8;
	r10 = 0;
	r23 = (float)r10;
	r10 = 0;
	r24 = (float)r10;
	r10 = 0;
	r25 = (float)r10;
	r10 = 1;
	r26 = (float)r10;
	if( r7 == NULL ) hl_null_access();
	r7->_00 = r14;
	r7->_10 = r15;
	r7->_20 = r16;
	r7->_30 = r9;
	r7->_01 = r17;
	r7->_11 = r18;
	r7->_21 = r19;
	r7->_31 = r12;
	r7->_02 = r20;
	r7->_12 = r21;
	r7->_22 = r22;
	r7->_32 = r13;
	r7->_03 = r23;
	r7->_13 = r24;
	r7->_23 = r25;
	r7->_33 = r26;
	goto label$30de1a7_2_222;
	label$30de1a7_2_152:
	r7 = r0->projectionMatrix;
	r9 = (float)r1;
	r9 = -r9;
	r8 = (double)r9;
	r11 = (double)r1;
	r8 = r8 / r11;
	r9 = (float)r8;
	r12 = (float)r4;
	r12 = -r12;
	r8 = (double)r12;
	r10 = 0;
	r12 = (float)r10;
	r13 = (float)r4;
	r12 = r12 - r13;
	r11 = (double)r12;
	r8 = r8 / r11;
	r12 = (float)r8;
	r8 = -1.000200020002000256;
	r13 = (float)r8;
	r8 = 2.;
	r11 = (double)r1;
	r8 = r8 / r11;
	r14 = (float)r8;
	r10 = 0;
	r15 = (float)r10;
	r10 = 0;
	r16 = (float)r10;
	r10 = 0;
	r17 = (float)r10;
	r8 = 2.;
	r10 = 0;
	r18 = (float)r10;
	r19 = (float)r4;
	r18 = r18 - r19;
	r11 = (double)r18;
	r8 = r8 / r11;
	r18 = (float)r8;
	r10 = 0;
	r19 = (float)r10;
	r10 = 0;
	r20 = (float)r10;
	r10 = 0;
	r21 = (float)r10;
	r8 = -0.002000200020002000211;
	r22 = (float)r8;
	r10 = 0;
	r23 = (float)r10;
	r10 = 0;
	r24 = (float)r10;
	r10 = 0;
	r25 = (float)r10;
	r10 = 1;
	r26 = (float)r10;
	if( r7 == NULL ) hl_null_access();
	r7->_00 = r14;
	r7->_10 = r15;
	r7->_20 = r16;
	r7->_30 = r9;
	r7->_01 = r17;
	r7->_11 = r18;
	r7->_21 = r19;
	r7->_31 = r12;
	r7->_02 = r20;
	r7->_12 = r21;
	r7->_22 = r22;
	r7->_32 = r13;
	r7->_03 = r23;
	r7->_13 = r24;
	r7->_23 = r25;
	r7->_33 = r26;
	label$30de1a7_2_222:
	r27 = r0->imagePainter;
	if( r27 == NULL ) hl_null_access();
	r7 = r0->projectionMatrix;
	kha_graphics4_ImageShaderPainter_setProjection(r27,r7);
	r28 = r0->coloredPainter;
	if( r28 == NULL ) hl_null_access();
	r7 = r0->projectionMatrix;
	kha_graphics4_ColoredShaderPainter_setProjection(r28,r7);
	r29 = r0->textPainter;
	if( r29 == NULL ) hl_null_access();
	r7 = r0->projectionMatrix;
	kha_graphics4_TextShaderPainter_setProjection(r29,r7);
	return;
}

void kha_graphics4_Graphics2_drawImage(kha__graphics4__Graphics2 r0,kha__Image r1,float r2,float r3) {
	kha__Image r43, r44;
	hl__types__ArrayObj r14;
	kha__graphics4__$ColoredShaderPainter r7;
	bool r9;
	kha__graphics4__ImageShaderPainter r39;
	kha__graphics4__TextShaderPainter r10;
	kha__graphics4__$ImageShaderPainter r41;
	kha__graphics4__ColoredShaderPainter r4;
	kha__arrays__Float32ArrayPrivate r51;
	float r11, r12, r13, r18, r20, r21, r25, r27, r28, r30, r32, r33, r35, r36, r37, r40, r45, r46, r47, r48, r49;
	double r22, r23, r24, r29, r34, r38;
	vdynamic *r16;
	kha__math__FastMatrix3 r15, r19, r26, r31;
	vbyte *r50;
	varray *r17;
	int r6, r8, r42, r52;
	r4 = r0->coloredPainter;
	r7 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r6 = r7->triangleBufferIndex;
	r8 = 0;
	if( r8 >= r6 ) goto label$30de1a7_3_8;
	if( r4 == NULL ) hl_null_access();
	r9 = false;
	kha_graphics4_ColoredShaderPainter_drawTriBuffer(r4,r9);
	label$30de1a7_3_8:
	r7 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r6 = r7->bufferIndex;
	r8 = 0;
	if( r8 >= r6 ) goto label$30de1a7_3_15;
	if( r4 == NULL ) hl_null_access();
	r9 = false;
	kha_graphics4_ColoredShaderPainter_drawBuffer(r4,r9);
	label$30de1a7_3_15:
	r10 = r0->textPainter;
	if( r10 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r10);
	if( r1 == NULL ) hl_null_access();
	r6 = kha_Image_get_width(r1);
	r12 = (float)r6;
	r11 = r2 + r12;
	r6 = kha_Image_get_height(r1);
	r13 = (float)r6;
	r12 = r3 + r13;
	r14 = r0->transformations;
	if( r14 == NULL ) hl_null_access();
	r6 = r0->transformationIndex;
	r8 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$30de1a7_3_32;
	r15 = NULL;
	goto label$30de1a7_3_35;
	label$30de1a7_3_32:
	r17 = r14->array;
	r16 = ((vdynamic**)(r17 + 1))[r6];
	r15 = (kha__math__FastMatrix3)r16;
	label$30de1a7_3_35:
	if( r15 == NULL ) hl_null_access();
	r18 = r15->_02;
	r18 = r18 * r2;
	r20 = r15->_12;
	r20 = r20 * r12;
	r18 = r18 + r20;
	r20 = r15->_22;
	r18 = r18 + r20;
	r20 = r15->_00;
	r20 = r20 * r2;
	r21 = r15->_10;
	r21 = r21 * r12;
	r20 = r20 + r21;
	r21 = r15->_20;
	r20 = r20 + r21;
	r22 = (double)r20;
	r23 = (double)r18;
	r22 = r22 / r23;
	r20 = r15->_01;
	r20 = r20 * r2;
	r21 = r15->_11;
	r21 = r21 * r12;
	r20 = r20 + r21;
	r21 = r15->_21;
	r20 = r20 + r21;
	r23 = (double)r20;
	r24 = (double)r18;
	r23 = r23 / r24;
	r20 = (float)r23;
	r21 = (float)r22;
	r14 = r0->transformations;
	if( r14 == NULL ) hl_null_access();
	r6 = r0->transformationIndex;
	r8 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$30de1a7_3_72;
	r19 = NULL;
	goto label$30de1a7_3_75;
	label$30de1a7_3_72:
	r17 = r14->array;
	r16 = ((vdynamic**)(r17 + 1))[r6];
	r19 = (kha__math__FastMatrix3)r16;
	label$30de1a7_3_75:
	if( r19 == NULL ) hl_null_access();
	r25 = r19->_02;
	r25 = r25 * r2;
	r27 = r19->_12;
	r27 = r27 * r3;
	r25 = r25 + r27;
	r27 = r19->_22;
	r25 = r25 + r27;
	r27 = r19->_00;
	r27 = r27 * r2;
	r28 = r19->_10;
	r28 = r28 * r3;
	r27 = r27 + r28;
	r28 = r19->_20;
	r27 = r27 + r28;
	r23 = (double)r27;
	r24 = (double)r25;
	r23 = r23 / r24;
	r27 = r19->_01;
	r27 = r27 * r2;
	r28 = r19->_11;
	r28 = r28 * r3;
	r27 = r27 + r28;
	r28 = r19->_21;
	r27 = r27 + r28;
	r24 = (double)r27;
	r29 = (double)r25;
	r24 = r24 / r29;
	r27 = (float)r24;
	r28 = (float)r23;
	r14 = r0->transformations;
	if( r14 == NULL ) hl_null_access();
	r6 = r0->transformationIndex;
	r8 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$30de1a7_3_112;
	r26 = NULL;
	goto label$30de1a7_3_115;
	label$30de1a7_3_112:
	r17 = r14->array;
	r16 = ((vdynamic**)(r17 + 1))[r6];
	r26 = (kha__math__FastMatrix3)r16;
	label$30de1a7_3_115:
	if( r26 == NULL ) hl_null_access();
	r30 = r26->_02;
	r30 = r30 * r11;
	r32 = r26->_12;
	r32 = r32 * r3;
	r30 = r30 + r32;
	r32 = r26->_22;
	r30 = r30 + r32;
	r32 = r26->_00;
	r32 = r32 * r11;
	r33 = r26->_10;
	r33 = r33 * r3;
	r32 = r32 + r33;
	r33 = r26->_20;
	r32 = r32 + r33;
	r24 = (double)r32;
	r29 = (double)r30;
	r24 = r24 / r29;
	r32 = r26->_01;
	r32 = r32 * r11;
	r33 = r26->_11;
	r33 = r33 * r3;
	r32 = r32 + r33;
	r33 = r26->_21;
	r32 = r32 + r33;
	r29 = (double)r32;
	r34 = (double)r30;
	r29 = r29 / r34;
	r32 = (float)r29;
	r33 = (float)r24;
	r14 = r0->transformations;
	if( r14 == NULL ) hl_null_access();
	r6 = r0->transformationIndex;
	r8 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$30de1a7_3_152;
	r31 = NULL;
	goto label$30de1a7_3_155;
	label$30de1a7_3_152:
	r17 = r14->array;
	r16 = ((vdynamic**)(r17 + 1))[r6];
	r31 = (kha__math__FastMatrix3)r16;
	label$30de1a7_3_155:
	if( r31 == NULL ) hl_null_access();
	r35 = r31->_02;
	r35 = r35 * r11;
	r36 = r31->_12;
	r36 = r36 * r12;
	r35 = r35 + r36;
	r36 = r31->_22;
	r35 = r35 + r36;
	r36 = r31->_00;
	r36 = r36 * r11;
	r37 = r31->_10;
	r37 = r37 * r12;
	r36 = r36 + r37;
	r37 = r31->_20;
	r36 = r36 + r37;
	r29 = (double)r36;
	r34 = (double)r35;
	r29 = r29 / r34;
	r36 = r31->_01;
	r36 = r36 * r11;
	r37 = r31->_11;
	r37 = r37 * r12;
	r36 = r36 + r37;
	r37 = r31->_21;
	r36 = r36 + r37;
	r34 = (double)r36;
	r38 = (double)r35;
	r34 = r34 / r38;
	r36 = (float)r34;
	r37 = (float)r29;
	r39 = r0->imagePainter;
	r34 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r40 = (float)r34;
	r6 = kha_graphics4_Graphics2_get_color(r0);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r8 = r41->bufferStart;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r42 = r41->bufferIndex;
	r8 = r8 + r42;
	r42 = 1;
	r8 = r8 + r42;
	r42 = 1500;
	if( r8 >= r42 ) goto label$30de1a7_3_204;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r43 = r41->lastTexture;
	if( !r43 ) goto label$30de1a7_3_207;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r44 = r41->lastTexture;
	if( r1 == r44 ) goto label$30de1a7_3_207;
	label$30de1a7_3_204:
	if( r39 == NULL ) hl_null_access();
	r9 = false;
	kha_graphics4_ImageShaderPainter_drawBuffer(r39,r9);
	label$30de1a7_3_207:
	r42 = 16711680;
	r8 = r6 & r42;
	r42 = 16;
	r8 = ((unsigned)r8) >> r42;
	r45 = (float)r8;
	r34 = 0.003921568627450980338;
	r46 = (float)r34;
	r45 = r45 * r46;
	r42 = 65280;
	r8 = r6 & r42;
	r42 = 8;
	r8 = ((unsigned)r8) >> r42;
	r46 = (float)r8;
	r34 = 0.003921568627450980338;
	r47 = (float)r34;
	r46 = r46 * r47;
	r42 = 255;
	r8 = r6 & r42;
	r47 = (float)r8;
	r34 = 0.003921568627450980338;
	r48 = (float)r34;
	r47 = r47 * r48;
	r42 = 24;
	r8 = ((unsigned)r6) >> r42;
	r48 = (float)r8;
	r34 = 0.003921568627450980338;
	r49 = (float)r34;
	r48 = r48 * r49;
	r48 = r48 * r40;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r8 = r41->bufferIndex;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r42 = r41->bufferStart;
	r8 = r8 - r42;
	r42 = 9;
	r8 = r8 * r42;
	r42 = 4;
	r8 = r8 * r42;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 5;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 6;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r46);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 7;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 8;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r48);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 14;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 15;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r46);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 16;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 17;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r48);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 23;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 24;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r46);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 25;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 26;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r48);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 32;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 33;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r46);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 34;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 35;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r48);
	r8 = kha_Image_get_width(r1);
	r34 = (double)r8;
	r8 = kha_Image_get_realWidth(r1);
	r38 = (double)r8;
	r34 = r34 / r38;
	r45 = (float)r34;
	r8 = kha_Image_get_height(r1);
	r34 = (double)r8;
	r8 = kha_Image_get_realHeight(r1);
	r38 = (double)r8;
	r34 = r34 / r38;
	r46 = (float)r34;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r8 = r41->bufferIndex;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r42 = r41->bufferStart;
	r8 = r8 - r42;
	r42 = 9;
	r8 = r8 * r42;
	r42 = 4;
	r8 = r8 * r42;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 3;
	r42 = r8 + r52;
	r52 = 0;
	r47 = (float)r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 4;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r46);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 12;
	r42 = r8 + r52;
	r52 = 0;
	r47 = (float)r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 13;
	r42 = r8 + r52;
	r52 = 0;
	r47 = (float)r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 21;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 22;
	r42 = r8 + r52;
	r52 = 0;
	r47 = (float)r52;
	hl_kore_float32array_set(r50,r42,r47);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 30;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 31;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r46);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r8 = r41->bufferIndex;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r42 = r41->bufferStart;
	r8 = r8 - r42;
	r42 = 9;
	r8 = r8 * r42;
	r42 = 4;
	r8 = r8 * r42;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	hl_kore_float32array_set(r50,r8,r21);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 1;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r20);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 2;
	r42 = r8 + r52;
	r34 = -5.;
	r45 = (float)r34;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 9;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r28);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 10;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r27);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 11;
	r42 = r8 + r52;
	r34 = -5.;
	r45 = (float)r34;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 18;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r33);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 19;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r32);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 20;
	r42 = r8 + r52;
	r34 = -5.;
	r45 = (float)r34;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 27;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r37);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 28;
	r42 = r8 + r52;
	hl_kore_float32array_set(r50,r42,r36);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r41->rectVertices;
	if( r51 == NULL ) hl_null_access();
	r50 = r51->self;
	r52 = 29;
	r42 = r8 + r52;
	r34 = -5.;
	r45 = (float)r34;
	hl_kore_float32array_set(r50,r42,r45);
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r8 = r41->bufferIndex;
	++r8;
	r41->bufferIndex = r8;
	r41 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r41->lastTexture = r1;
	return;
}

void kha_graphics4_Graphics2_drawScaledSubImage(kha__graphics4__Graphics2 r0,kha__Image r1,float r2,float r3,float r4,float r5,float r6,float r7,float r8,float r9) {
	kha__Image r50, r51;
	hl__types__ArrayObj r17;
	kha__graphics4__$ColoredShaderPainter r13;
	bool r15;
	kha__graphics4__ImageShaderPainter r46;
	kha__graphics4__TextShaderPainter r16;
	kha__graphics4__$ImageShaderPainter r48;
	kha__graphics4__ColoredShaderPainter r10;
	kha__arrays__Float32ArrayPrivate r58;
	float r21, r22, r24, r25, r29, r31, r32, r34, r35, r37, r38, r40, r41, r42, r43, r44, r47, r52, r53, r54, r55, r56;
	double r26, r27, r28, r33, r39, r45;
	vdynamic *r19;
	kha__math__FastMatrix3 r18, r23, r30, r36;
	vbyte *r57;
	varray *r20;
	int r12, r14, r49, r59;
	r10 = r0->coloredPainter;
	r13 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r12 = r13->triangleBufferIndex;
	r14 = 0;
	if( r14 >= r12 ) goto label$30de1a7_4_8;
	if( r10 == NULL ) hl_null_access();
	r15 = false;
	kha_graphics4_ColoredShaderPainter_drawTriBuffer(r10,r15);
	label$30de1a7_4_8:
	r13 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r12 = r13->bufferIndex;
	r14 = 0;
	if( r14 >= r12 ) goto label$30de1a7_4_15;
	if( r10 == NULL ) hl_null_access();
	r15 = false;
	kha_graphics4_ColoredShaderPainter_drawBuffer(r10,r15);
	label$30de1a7_4_15:
	r16 = r0->textPainter;
	if( r16 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r16);
	r17 = r0->transformations;
	if( r17 == NULL ) hl_null_access();
	r12 = r0->transformationIndex;
	r14 = r17->length;
	if( ((unsigned)r12) < ((unsigned)r14) ) goto label$30de1a7_4_25;
	r18 = NULL;
	goto label$30de1a7_4_28;
	label$30de1a7_4_25:
	r20 = r17->array;
	r19 = ((vdynamic**)(r20 + 1))[r12];
	r18 = (kha__math__FastMatrix3)r19;
	label$30de1a7_4_28:
	r21 = r7 + r9;
	if( r18 == NULL ) hl_null_access();
	r22 = r18->_02;
	r22 = r22 * r6;
	r24 = r18->_12;
	r24 = r24 * r21;
	r22 = r22 + r24;
	r24 = r18->_22;
	r22 = r22 + r24;
	r24 = r18->_00;
	r24 = r24 * r6;
	r25 = r18->_10;
	r25 = r25 * r21;
	r24 = r24 + r25;
	r25 = r18->_20;
	r24 = r24 + r25;
	r26 = (double)r24;
	r27 = (double)r22;
	r26 = r26 / r27;
	r24 = r18->_01;
	r24 = r24 * r6;
	r25 = r18->_11;
	r25 = r25 * r21;
	r24 = r24 + r25;
	r25 = r18->_21;
	r24 = r24 + r25;
	r27 = (double)r24;
	r28 = (double)r22;
	r27 = r27 / r28;
	r24 = (float)r27;
	r25 = (float)r26;
	r17 = r0->transformations;
	if( r17 == NULL ) hl_null_access();
	r12 = r0->transformationIndex;
	r14 = r17->length;
	if( ((unsigned)r12) < ((unsigned)r14) ) goto label$30de1a7_4_66;
	r23 = NULL;
	goto label$30de1a7_4_69;
	label$30de1a7_4_66:
	r20 = r17->array;
	r19 = ((vdynamic**)(r20 + 1))[r12];
	r23 = (kha__math__FastMatrix3)r19;
	label$30de1a7_4_69:
	if( r23 == NULL ) hl_null_access();
	r29 = r23->_02;
	r29 = r29 * r6;
	r31 = r23->_12;
	r31 = r31 * r7;
	r29 = r29 + r31;
	r31 = r23->_22;
	r29 = r29 + r31;
	r31 = r23->_00;
	r31 = r31 * r6;
	r32 = r23->_10;
	r32 = r32 * r7;
	r31 = r31 + r32;
	r32 = r23->_20;
	r31 = r31 + r32;
	r27 = (double)r31;
	r28 = (double)r29;
	r27 = r27 / r28;
	r31 = r23->_01;
	r31 = r31 * r6;
	r32 = r23->_11;
	r32 = r32 * r7;
	r31 = r31 + r32;
	r32 = r23->_21;
	r31 = r31 + r32;
	r28 = (double)r31;
	r33 = (double)r29;
	r28 = r28 / r33;
	r31 = (float)r28;
	r32 = (float)r27;
	r17 = r0->transformations;
	if( r17 == NULL ) hl_null_access();
	r12 = r0->transformationIndex;
	r14 = r17->length;
	if( ((unsigned)r12) < ((unsigned)r14) ) goto label$30de1a7_4_106;
	r30 = NULL;
	goto label$30de1a7_4_109;
	label$30de1a7_4_106:
	r20 = r17->array;
	r19 = ((vdynamic**)(r20 + 1))[r12];
	r30 = (kha__math__FastMatrix3)r19;
	label$30de1a7_4_109:
	r34 = r6 + r8;
	if( r30 == NULL ) hl_null_access();
	r35 = r30->_02;
	r35 = r35 * r34;
	r37 = r30->_12;
	r37 = r37 * r7;
	r35 = r35 + r37;
	r37 = r30->_22;
	r35 = r35 + r37;
	r37 = r30->_00;
	r37 = r37 * r34;
	r38 = r30->_10;
	r38 = r38 * r7;
	r37 = r37 + r38;
	r38 = r30->_20;
	r37 = r37 + r38;
	r28 = (double)r37;
	r33 = (double)r35;
	r28 = r28 / r33;
	r37 = r30->_01;
	r37 = r37 * r34;
	r38 = r30->_11;
	r38 = r38 * r7;
	r37 = r37 + r38;
	r38 = r30->_21;
	r37 = r37 + r38;
	r33 = (double)r37;
	r39 = (double)r35;
	r33 = r33 / r39;
	r37 = (float)r33;
	r38 = (float)r28;
	r17 = r0->transformations;
	if( r17 == NULL ) hl_null_access();
	r12 = r0->transformationIndex;
	r14 = r17->length;
	if( ((unsigned)r12) < ((unsigned)r14) ) goto label$30de1a7_4_147;
	r36 = NULL;
	goto label$30de1a7_4_150;
	label$30de1a7_4_147:
	r20 = r17->array;
	r19 = ((vdynamic**)(r20 + 1))[r12];
	r36 = (kha__math__FastMatrix3)r19;
	label$30de1a7_4_150:
	r40 = r6 + r8;
	r41 = r7 + r9;
	if( r36 == NULL ) hl_null_access();
	r42 = r36->_02;
	r42 = r42 * r40;
	r43 = r36->_12;
	r43 = r43 * r41;
	r42 = r42 + r43;
	r43 = r36->_22;
	r42 = r42 + r43;
	r43 = r36->_00;
	r43 = r43 * r40;
	r44 = r36->_10;
	r44 = r44 * r41;
	r43 = r43 + r44;
	r44 = r36->_20;
	r43 = r43 + r44;
	r33 = (double)r43;
	r39 = (double)r42;
	r33 = r33 / r39;
	r43 = r36->_01;
	r43 = r43 * r40;
	r44 = r36->_11;
	r44 = r44 * r41;
	r43 = r43 + r44;
	r44 = r36->_21;
	r43 = r43 + r44;
	r39 = (double)r43;
	r45 = (double)r42;
	r39 = r39 / r45;
	r43 = (float)r39;
	r44 = (float)r33;
	r46 = r0->imagePainter;
	r39 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r47 = (float)r39;
	r12 = kha_graphics4_Graphics2_get_color(r0);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r14 = r48->bufferStart;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r49 = r48->bufferIndex;
	r14 = r14 + r49;
	r49 = 1;
	r14 = r14 + r49;
	r49 = 1500;
	if( r14 >= r49 ) goto label$30de1a7_4_201;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r50 = r48->lastTexture;
	if( !r50 ) goto label$30de1a7_4_204;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r51 = r48->lastTexture;
	if( r1 == r51 ) goto label$30de1a7_4_204;
	label$30de1a7_4_201:
	if( r46 == NULL ) hl_null_access();
	r15 = false;
	kha_graphics4_ImageShaderPainter_drawBuffer(r46,r15);
	label$30de1a7_4_204:
	r39 = (double)r2;
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_realWidth(r1);
	r45 = (double)r14;
	r39 = r39 / r45;
	r52 = (float)r39;
	r39 = (double)r3;
	r14 = kha_Image_get_realHeight(r1);
	r45 = (double)r14;
	r39 = r39 / r45;
	r53 = (float)r39;
	r54 = r2 + r4;
	r39 = (double)r54;
	r14 = kha_Image_get_realWidth(r1);
	r45 = (double)r14;
	r39 = r39 / r45;
	r54 = (float)r39;
	r55 = r3 + r5;
	r39 = (double)r55;
	r14 = kha_Image_get_realHeight(r1);
	r45 = (double)r14;
	r39 = r39 / r45;
	r55 = (float)r39;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r14 = r48->bufferIndex;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r49 = r48->bufferStart;
	r14 = r14 - r49;
	r49 = 9;
	r14 = r14 * r49;
	r49 = 4;
	r14 = r14 * r49;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 3;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 4;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r55);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 12;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 13;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r53);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 21;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r54);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 22;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r53);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 30;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r54);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 31;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r55);
	r49 = 16711680;
	r14 = r12 & r49;
	r49 = 16;
	r14 = ((unsigned)r14) >> r49;
	r52 = (float)r14;
	r39 = 0.003921568627450980338;
	r53 = (float)r39;
	r52 = r52 * r53;
	r49 = 65280;
	r14 = r12 & r49;
	r49 = 8;
	r14 = ((unsigned)r14) >> r49;
	r53 = (float)r14;
	r39 = 0.003921568627450980338;
	r54 = (float)r39;
	r53 = r53 * r54;
	r49 = 255;
	r14 = r12 & r49;
	r54 = (float)r14;
	r39 = 0.003921568627450980338;
	r55 = (float)r39;
	r54 = r54 * r55;
	r49 = 24;
	r14 = ((unsigned)r12) >> r49;
	r55 = (float)r14;
	r39 = 0.003921568627450980338;
	r56 = (float)r39;
	r55 = r55 * r56;
	r55 = r55 * r47;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r14 = r48->bufferIndex;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r49 = r48->bufferStart;
	r14 = r14 - r49;
	r49 = 9;
	r14 = r14 * r49;
	r49 = 4;
	r14 = r14 * r49;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 5;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 6;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r53);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 7;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r54);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 8;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r55);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 14;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 15;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r53);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 16;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r54);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 17;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r55);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 23;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 24;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r53);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 25;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r54);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 26;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r55);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 32;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 33;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r53);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 34;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r54);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 35;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r55);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r14 = r48->bufferIndex;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r49 = r48->bufferStart;
	r14 = r14 - r49;
	r49 = 9;
	r14 = r14 * r49;
	r49 = 4;
	r14 = r14 * r49;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	hl_kore_float32array_set(r57,r14,r25);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 1;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r24);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 2;
	r49 = r14 + r59;
	r39 = -5.;
	r52 = (float)r39;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 9;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r32);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 10;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r31);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 11;
	r49 = r14 + r59;
	r39 = -5.;
	r52 = (float)r39;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 18;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r38);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 19;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r37);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 20;
	r49 = r14 + r59;
	r39 = -5.;
	r52 = (float)r39;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 27;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r44);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 28;
	r49 = r14 + r59;
	hl_kore_float32array_set(r57,r49,r43);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r58 = r48->rectVertices;
	if( r58 == NULL ) hl_null_access();
	r57 = r58->self;
	r59 = 29;
	r49 = r14 + r59;
	r39 = -5.;
	r52 = (float)r39;
	hl_kore_float32array_set(r57,r49,r52);
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r14 = r48->bufferIndex;
	++r14;
	r48->bufferIndex = r14;
	r48 = (kha__graphics4__$ImageShaderPainter)g$a0efbdf;
	r48->lastTexture = r1;
	return;
}

int kha_graphics4_Graphics2_get_color(kha__graphics4__Graphics2 r0) {
	int r1;
	r1 = r0->myColor;
	return r1;
}

int kha_graphics4_Graphics2_set_color(kha__graphics4__Graphics2 r0,int r1) {
	r0->myColor = r1;
	return r1;
}

void kha_graphics4_Graphics2_drawRect(kha__graphics4__Graphics2 r0,double r1,double r2,double r3,double r4,double* r5) {
	hl__types__ArrayObj r10;
	kha__graphics4__ImageShaderPainter r8;
	kha__graphics4__TextShaderPainter r9;
	kha__graphics4__ColoredShaderPainter r49;
	float r19, r20, r21, r23, r24, r25, r27, r28, r29, r31, r32, r33, r35, r36, r37, r39, r40, r41, r43, r44, r45, r47, r48, r50, r51, r58, r59, r60;
	double r6, r16, r17, r18, r26, r34, r42, r52, r53, r54, r55, r56, r57;
	vdynamic *r14;
	kha__math__FastMatrix3 r13, r22, r30, r38, r46;
	varray *r15;
	int r11, r12;
	if( r5 ) goto label$30de1a7_7_3;
	r6 = 1.;
	goto label$30de1a7_7_4;
	label$30de1a7_7_3:
	r6 = *r5;
	label$30de1a7_7_4:
	r8 = r0->imagePainter;
	if( r8 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r8);
	r9 = r0->textPainter;
	if( r9 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r9);
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_17;
	r13 = NULL;
	goto label$30de1a7_7_20;
	label$30de1a7_7_17:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r13 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_20:
	r18 = 2.;
	r17 = r6 / r18;
	r16 = r1 - r17;
	r19 = (float)r16;
	r18 = 2.;
	r17 = r6 / r18;
	r16 = r2 + r17;
	r20 = (float)r16;
	if( r13 == NULL ) hl_null_access();
	r21 = r13->_02;
	r21 = r21 * r19;
	r23 = r13->_12;
	r23 = r23 * r20;
	r21 = r21 + r23;
	r23 = r13->_22;
	r21 = r21 + r23;
	r23 = r13->_00;
	r23 = r23 * r19;
	r24 = r13->_10;
	r24 = r24 * r20;
	r23 = r23 + r24;
	r24 = r13->_20;
	r23 = r23 + r24;
	r16 = (double)r23;
	r17 = (double)r21;
	r16 = r16 / r17;
	r23 = r13->_01;
	r23 = r23 * r19;
	r24 = r13->_11;
	r24 = r24 * r20;
	r23 = r23 + r24;
	r24 = r13->_21;
	r23 = r23 + r24;
	r17 = (double)r23;
	r18 = (double)r21;
	r17 = r17 / r18;
	r23 = (float)r17;
	r24 = (float)r16;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_65;
	r22 = NULL;
	goto label$30de1a7_7_68;
	label$30de1a7_7_65:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r22 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_68:
	r26 = 2.;
	r18 = r6 / r26;
	r17 = r1 - r18;
	r27 = (float)r17;
	r26 = 2.;
	r18 = r6 / r26;
	r17 = r2 - r18;
	r28 = (float)r17;
	if( r22 == NULL ) hl_null_access();
	r29 = r22->_02;
	r29 = r29 * r27;
	r31 = r22->_12;
	r31 = r31 * r28;
	r29 = r29 + r31;
	r31 = r22->_22;
	r29 = r29 + r31;
	r31 = r22->_00;
	r31 = r31 * r27;
	r32 = r22->_10;
	r32 = r32 * r28;
	r31 = r31 + r32;
	r32 = r22->_20;
	r31 = r31 + r32;
	r17 = (double)r31;
	r18 = (double)r29;
	r17 = r17 / r18;
	r31 = r22->_01;
	r31 = r31 * r27;
	r32 = r22->_11;
	r32 = r32 * r28;
	r31 = r31 + r32;
	r32 = r22->_21;
	r31 = r31 + r32;
	r18 = (double)r31;
	r26 = (double)r29;
	r18 = r18 / r26;
	r31 = (float)r18;
	r32 = (float)r17;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_113;
	r30 = NULL;
	goto label$30de1a7_7_116;
	label$30de1a7_7_113:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r30 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_116:
	r18 = r1 + r3;
	r34 = 2.;
	r26 = r6 / r34;
	r18 = r18 + r26;
	r35 = (float)r18;
	r34 = 2.;
	r26 = r6 / r34;
	r18 = r2 - r26;
	r36 = (float)r18;
	if( r30 == NULL ) hl_null_access();
	r37 = r30->_02;
	r37 = r37 * r35;
	r39 = r30->_12;
	r39 = r39 * r36;
	r37 = r37 + r39;
	r39 = r30->_22;
	r37 = r37 + r39;
	r39 = r30->_00;
	r39 = r39 * r35;
	r40 = r30->_10;
	r40 = r40 * r36;
	r39 = r39 + r40;
	r40 = r30->_20;
	r39 = r39 + r40;
	r18 = (double)r39;
	r26 = (double)r37;
	r18 = r18 / r26;
	r39 = r30->_01;
	r39 = r39 * r35;
	r40 = r30->_11;
	r40 = r40 * r36;
	r39 = r39 + r40;
	r40 = r30->_21;
	r39 = r39 + r40;
	r26 = (double)r39;
	r34 = (double)r37;
	r26 = r26 / r34;
	r39 = (float)r26;
	r40 = (float)r18;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_162;
	r38 = NULL;
	goto label$30de1a7_7_165;
	label$30de1a7_7_162:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r38 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_165:
	r26 = r1 + r3;
	r42 = 2.;
	r34 = r6 / r42;
	r26 = r26 + r34;
	r43 = (float)r26;
	r42 = 2.;
	r34 = r6 / r42;
	r26 = r2 + r34;
	r44 = (float)r26;
	if( r38 == NULL ) hl_null_access();
	r45 = r38->_02;
	r45 = r45 * r43;
	r47 = r38->_12;
	r47 = r47 * r44;
	r45 = r45 + r47;
	r47 = r38->_22;
	r45 = r45 + r47;
	r47 = r38->_00;
	r47 = r47 * r43;
	r48 = r38->_10;
	r48 = r48 * r44;
	r47 = r47 + r48;
	r48 = r38->_20;
	r47 = r47 + r48;
	r26 = (double)r47;
	r34 = (double)r45;
	r26 = r26 / r34;
	r47 = r38->_01;
	r47 = r47 * r43;
	r48 = r38->_11;
	r48 = r48 * r44;
	r47 = r47 + r48;
	r48 = r38->_21;
	r47 = r47 + r48;
	r34 = (double)r47;
	r42 = (double)r45;
	r34 = r34 / r42;
	r47 = (float)r34;
	r48 = (float)r26;
	r49 = r0->coloredPainter;
	if( r49 == NULL ) hl_null_access();
	r34 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r50 = (float)r34;
	r11 = kha_graphics4_Graphics2_get_color(r0);
	r34 = (double)r24;
	r42 = (double)r23;
	r52 = (double)r32;
	r53 = (double)r31;
	r54 = (double)r40;
	r55 = (double)r39;
	r56 = (double)r48;
	r57 = (double)r47;
	kha_graphics4_ColoredShaderPainter_fillRect(r49,r50,r11,r34,r42,r52,r53,r54,r55,r56,r57);
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_225;
	r46 = NULL;
	goto label$30de1a7_7_228;
	label$30de1a7_7_225:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_228:
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r1 - r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r24 = r60;
	r25 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_276;
	r46 = NULL;
	goto label$30de1a7_7_279;
	label$30de1a7_7_276:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_279:
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r1 - r42;
	r50 = (float)r34;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r2 + r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r32 = r60;
	r33 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_326;
	r46 = NULL;
	goto label$30de1a7_7_329;
	label$30de1a7_7_326:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_329:
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r1 + r42;
	r50 = (float)r34;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r2 + r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r40 = r60;
	r41 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_376;
	r46 = NULL;
	goto label$30de1a7_7_379;
	label$30de1a7_7_376:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_379:
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r1 + r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r49 = r0->coloredPainter;
	if( r49 == NULL ) hl_null_access();
	r34 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r50 = (float)r34;
	r11 = kha_graphics4_Graphics2_get_color(r0);
	r34 = (double)r24;
	r42 = (double)r25;
	r52 = (double)r32;
	r53 = (double)r33;
	r54 = (double)r40;
	r55 = (double)r41;
	r56 = (double)r60;
	r57 = (double)r59;
	kha_graphics4_ColoredShaderPainter_fillRect(r49,r50,r11,r34,r42,r52,r53,r54,r55,r56,r57);
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_439;
	r46 = NULL;
	goto label$30de1a7_7_442;
	label$30de1a7_7_439:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_442:
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r1 - r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 + r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r24 = r60;
	r25 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_490;
	r46 = NULL;
	goto label$30de1a7_7_493;
	label$30de1a7_7_490:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_493:
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r1 - r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r32 = r60;
	r33 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_541;
	r46 = NULL;
	goto label$30de1a7_7_544;
	label$30de1a7_7_541:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_544:
	r34 = r1 + r3;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 + r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r40 = r60;
	r41 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_593;
	r46 = NULL;
	goto label$30de1a7_7_596;
	label$30de1a7_7_593:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_596:
	r34 = r1 + r3;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 + r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 + r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r49 = r0->coloredPainter;
	if( r49 == NULL ) hl_null_access();
	r34 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r50 = (float)r34;
	r11 = kha_graphics4_Graphics2_get_color(r0);
	r34 = (double)r24;
	r42 = (double)r25;
	r52 = (double)r32;
	r53 = (double)r33;
	r54 = (double)r40;
	r55 = (double)r41;
	r56 = (double)r60;
	r57 = (double)r59;
	kha_graphics4_ColoredShaderPainter_fillRect(r49,r50,r11,r34,r42,r52,r53,r54,r55,r56,r57);
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_657;
	r46 = NULL;
	goto label$30de1a7_7_660;
	label$30de1a7_7_657:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_660:
	r34 = r1 + r3;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r24 = r60;
	r25 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_709;
	r46 = NULL;
	goto label$30de1a7_7_712;
	label$30de1a7_7_709:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_712:
	r34 = r1 + r3;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r50 = (float)r34;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r2 + r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r32 = r60;
	r33 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_760;
	r46 = NULL;
	goto label$30de1a7_7_763;
	label$30de1a7_7_760:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_763:
	r34 = r1 + r3;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 + r42;
	r50 = (float)r34;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r2 + r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r40 = r60;
	r41 = r59;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_7_811;
	r46 = NULL;
	goto label$30de1a7_7_814;
	label$30de1a7_7_811:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r46 = (kha__math__FastMatrix3)r14;
	label$30de1a7_7_814:
	r34 = r1 + r3;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 + r42;
	r50 = (float)r34;
	r34 = r2 + r4;
	r52 = 2.;
	r42 = r6 / r52;
	r34 = r34 - r42;
	r51 = (float)r34;
	if( r46 == NULL ) hl_null_access();
	r58 = r46->_02;
	r58 = r58 * r50;
	r59 = r46->_12;
	r59 = r59 * r51;
	r58 = r58 + r59;
	r59 = r46->_22;
	r58 = r58 + r59;
	r59 = r46->_00;
	r59 = r59 * r50;
	r60 = r46->_10;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_20;
	r59 = r59 + r60;
	r34 = (double)r59;
	r42 = (double)r58;
	r34 = r34 / r42;
	r59 = r46->_01;
	r59 = r59 * r50;
	r60 = r46->_11;
	r60 = r60 * r51;
	r59 = r59 + r60;
	r60 = r46->_21;
	r59 = r59 + r60;
	r42 = (double)r59;
	r52 = (double)r58;
	r42 = r42 / r52;
	r59 = (float)r42;
	r60 = (float)r34;
	r49 = r0->coloredPainter;
	if( r49 == NULL ) hl_null_access();
	r34 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r50 = (float)r34;
	r11 = kha_graphics4_Graphics2_get_color(r0);
	r34 = (double)r24;
	r42 = (double)r25;
	r52 = (double)r32;
	r53 = (double)r33;
	r54 = (double)r40;
	r55 = (double)r41;
	r56 = (double)r60;
	r57 = (double)r59;
	kha_graphics4_ColoredShaderPainter_fillRect(r49,r50,r11,r34,r42,r52,r53,r54,r55,r56,r57);
	return;
}

void kha_graphics4_Graphics2_fillRect(kha__graphics4__Graphics2 r0,double r1,double r2,double r3,double r4) {
	hl__types__ArrayObj r8;
	kha__graphics4__ImageShaderPainter r6;
	kha__graphics4__TextShaderPainter r7;
	kha__graphics4__ColoredShaderPainter r43;
	float r15, r17, r18, r20, r21, r23, r24, r25, r27, r28, r30, r31, r32, r34, r35, r37, r38, r39, r40, r41, r44;
	double r14, r16, r22, r29, r36, r42, r45, r46, r47, r48, r49, r50;
	vdynamic *r12;
	kha__math__FastMatrix3 r11, r19, r26, r33;
	varray *r13;
	int r9, r10;
	r6 = r0->imagePainter;
	if( r6 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r6);
	r7 = r0->textPainter;
	if( r7 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r7);
	r8 = r0->transformations;
	if( r8 == NULL ) hl_null_access();
	r9 = r0->transformationIndex;
	r10 = r8->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$30de1a7_8_13;
	r11 = NULL;
	goto label$30de1a7_8_16;
	label$30de1a7_8_13:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r9];
	r11 = (kha__math__FastMatrix3)r12;
	label$30de1a7_8_16:
	r15 = (float)r1;
	r14 = r2 + r4;
	r17 = (float)r14;
	if( r11 == NULL ) hl_null_access();
	r18 = r11->_02;
	r18 = r18 * r15;
	r20 = r11->_12;
	r20 = r20 * r17;
	r18 = r18 + r20;
	r20 = r11->_22;
	r18 = r18 + r20;
	r20 = r11->_00;
	r20 = r20 * r15;
	r21 = r11->_10;
	r21 = r21 * r17;
	r20 = r20 + r21;
	r21 = r11->_20;
	r20 = r20 + r21;
	r14 = (double)r20;
	r16 = (double)r18;
	r14 = r14 / r16;
	r20 = r11->_01;
	r20 = r20 * r15;
	r21 = r11->_11;
	r21 = r21 * r17;
	r20 = r20 + r21;
	r21 = r11->_21;
	r20 = r20 + r21;
	r16 = (double)r20;
	r22 = (double)r18;
	r16 = r16 / r22;
	r20 = (float)r16;
	r21 = (float)r14;
	r8 = r0->transformations;
	if( r8 == NULL ) hl_null_access();
	r9 = r0->transformationIndex;
	r10 = r8->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$30de1a7_8_56;
	r19 = NULL;
	goto label$30de1a7_8_59;
	label$30de1a7_8_56:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r9];
	r19 = (kha__math__FastMatrix3)r12;
	label$30de1a7_8_59:
	r23 = (float)r1;
	r24 = (float)r2;
	if( r19 == NULL ) hl_null_access();
	r25 = r19->_02;
	r25 = r25 * r23;
	r27 = r19->_12;
	r27 = r27 * r24;
	r25 = r25 + r27;
	r27 = r19->_22;
	r25 = r25 + r27;
	r27 = r19->_00;
	r27 = r27 * r23;
	r28 = r19->_10;
	r28 = r28 * r24;
	r27 = r27 + r28;
	r28 = r19->_20;
	r27 = r27 + r28;
	r16 = (double)r27;
	r22 = (double)r25;
	r16 = r16 / r22;
	r27 = r19->_01;
	r27 = r27 * r23;
	r28 = r19->_11;
	r28 = r28 * r24;
	r27 = r27 + r28;
	r28 = r19->_21;
	r27 = r27 + r28;
	r22 = (double)r27;
	r29 = (double)r25;
	r22 = r22 / r29;
	r27 = (float)r22;
	r28 = (float)r16;
	r8 = r0->transformations;
	if( r8 == NULL ) hl_null_access();
	r9 = r0->transformationIndex;
	r10 = r8->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$30de1a7_8_98;
	r26 = NULL;
	goto label$30de1a7_8_101;
	label$30de1a7_8_98:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r9];
	r26 = (kha__math__FastMatrix3)r12;
	label$30de1a7_8_101:
	r22 = r1 + r3;
	r30 = (float)r22;
	r31 = (float)r2;
	if( r26 == NULL ) hl_null_access();
	r32 = r26->_02;
	r32 = r32 * r30;
	r34 = r26->_12;
	r34 = r34 * r31;
	r32 = r32 + r34;
	r34 = r26->_22;
	r32 = r32 + r34;
	r34 = r26->_00;
	r34 = r34 * r30;
	r35 = r26->_10;
	r35 = r35 * r31;
	r34 = r34 + r35;
	r35 = r26->_20;
	r34 = r34 + r35;
	r22 = (double)r34;
	r29 = (double)r32;
	r22 = r22 / r29;
	r34 = r26->_01;
	r34 = r34 * r30;
	r35 = r26->_11;
	r35 = r35 * r31;
	r34 = r34 + r35;
	r35 = r26->_21;
	r34 = r34 + r35;
	r29 = (double)r34;
	r36 = (double)r32;
	r29 = r29 / r36;
	r34 = (float)r29;
	r35 = (float)r22;
	r8 = r0->transformations;
	if( r8 == NULL ) hl_null_access();
	r9 = r0->transformationIndex;
	r10 = r8->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$30de1a7_8_141;
	r33 = NULL;
	goto label$30de1a7_8_144;
	label$30de1a7_8_141:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r9];
	r33 = (kha__math__FastMatrix3)r12;
	label$30de1a7_8_144:
	r29 = r1 + r3;
	r37 = (float)r29;
	r29 = r2 + r4;
	r38 = (float)r29;
	if( r33 == NULL ) hl_null_access();
	r39 = r33->_02;
	r39 = r39 * r37;
	r40 = r33->_12;
	r40 = r40 * r38;
	r39 = r39 + r40;
	r40 = r33->_22;
	r39 = r39 + r40;
	r40 = r33->_00;
	r40 = r40 * r37;
	r41 = r33->_10;
	r41 = r41 * r38;
	r40 = r40 + r41;
	r41 = r33->_20;
	r40 = r40 + r41;
	r29 = (double)r40;
	r36 = (double)r39;
	r29 = r29 / r36;
	r40 = r33->_01;
	r40 = r40 * r37;
	r41 = r33->_11;
	r41 = r41 * r38;
	r40 = r40 + r41;
	r41 = r33->_21;
	r40 = r40 + r41;
	r36 = (double)r40;
	r42 = (double)r39;
	r36 = r36 / r42;
	r40 = (float)r36;
	r41 = (float)r29;
	r43 = r0->coloredPainter;
	if( r43 == NULL ) hl_null_access();
	r36 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r44 = (float)r36;
	r9 = kha_graphics4_Graphics2_get_color(r0);
	r36 = (double)r21;
	r42 = (double)r20;
	r45 = (double)r28;
	r46 = (double)r27;
	r47 = (double)r35;
	r48 = (double)r34;
	r49 = (double)r41;
	r50 = (double)r40;
	kha_graphics4_ColoredShaderPainter_fillRect(r43,r44,r9,r36,r42,r45,r46,r47,r48,r49,r50);
	return;
}

void kha_graphics4_Graphics2_drawString(kha__graphics4__Graphics2 r0,String r1,double r2,double r3) {
	hl__types__ArrayObj r14;
	kha__graphics4__$ColoredShaderPainter r8;
	bool r10;
	kha__graphics4__ImageShaderPainter r5;
	kha__graphics4__TextShaderPainter r11;
	kha__graphics4__ColoredShaderPainter r6;
	float r13;
	double r12;
	vdynamic *r17;
	kha__math__FastMatrix3 r16;
	varray *r18;
	int r7, r9, r15;
	r5 = r0->imagePainter;
	if( r5 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r5);
	r6 = r0->coloredPainter;
	r8 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r7 = r8->triangleBufferIndex;
	r9 = 0;
	if( r9 >= r7 ) goto label$30de1a7_9_11;
	if( r6 == NULL ) hl_null_access();
	r10 = false;
	kha_graphics4_ColoredShaderPainter_drawTriBuffer(r6,r10);
	label$30de1a7_9_11:
	r8 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r7 = r8->bufferIndex;
	r9 = 0;
	if( r9 >= r7 ) goto label$30de1a7_9_18;
	if( r6 == NULL ) hl_null_access();
	r10 = false;
	kha_graphics4_ColoredShaderPainter_drawBuffer(r6,r10);
	label$30de1a7_9_18:
	r11 = r0->textPainter;
	if( r11 == NULL ) hl_null_access();
	r12 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r13 = (float)r12;
	r7 = kha_graphics4_Graphics2_get_color(r0);
	r14 = r0->transformations;
	if( r14 == NULL ) hl_null_access();
	r9 = r0->transformationIndex;
	r15 = r14->length;
	if( ((unsigned)r9) < ((unsigned)r15) ) goto label$30de1a7_9_30;
	r16 = NULL;
	goto label$30de1a7_9_33;
	label$30de1a7_9_30:
	r18 = r14->array;
	r17 = ((vdynamic**)(r18 + 1))[r9];
	r16 = (kha__math__FastMatrix3)r17;
	label$30de1a7_9_33:
	kha_graphics4_TextShaderPainter_drawString(r11,r1,r13,r7,r2,r3,r16);
	return;
}

void kha_graphics4_Graphics2_drawCharacters(kha__graphics4__Graphics2 r0,hl__types__ArrayBytes_Int r1,int r2,int r3,double r4,double r5) {
	hl__types__ArrayObj r17;
	kha__graphics4__$ColoredShaderPainter r10;
	bool r12;
	kha__graphics4__ImageShaderPainter r7;
	kha__graphics4__TextShaderPainter r13;
	kha__graphics4__ColoredShaderPainter r8;
	float r15;
	double r14;
	vdynamic *r21;
	kha__math__FastMatrix3 r20;
	varray *r22;
	int r9, r11, r16, r18, r19;
	r7 = r0->imagePainter;
	if( r7 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r7);
	r8 = r0->coloredPainter;
	r10 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r9 = r10->triangleBufferIndex;
	r11 = 0;
	if( r11 >= r9 ) goto label$30de1a7_10_11;
	if( r8 == NULL ) hl_null_access();
	r12 = false;
	kha_graphics4_ColoredShaderPainter_drawTriBuffer(r8,r12);
	label$30de1a7_10_11:
	r10 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r9 = r10->bufferIndex;
	r11 = 0;
	if( r11 >= r9 ) goto label$30de1a7_10_18;
	if( r8 == NULL ) hl_null_access();
	r12 = false;
	kha_graphics4_ColoredShaderPainter_drawBuffer(r8,r12);
	label$30de1a7_10_18:
	r13 = r0->textPainter;
	if( r13 == NULL ) hl_null_access();
	r14 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r15 = (float)r14;
	r16 = kha_graphics4_Graphics2_get_color(r0);
	r17 = r0->transformations;
	if( r17 == NULL ) hl_null_access();
	r18 = r0->transformationIndex;
	r19 = r17->length;
	if( ((unsigned)r18) < ((unsigned)r19) ) goto label$30de1a7_10_30;
	r20 = NULL;
	goto label$30de1a7_10_33;
	label$30de1a7_10_30:
	r22 = r17->array;
	r21 = ((vdynamic**)(r22 + 1))[r18];
	r20 = (kha__math__FastMatrix3)r21;
	label$30de1a7_10_33:
	kha_graphics4_TextShaderPainter_drawCharacters(r13,r1,r2,r3,r15,r16,r4,r5,r20);
	return;
}

kha__Kravur kha_graphics4_Graphics2_get_font(kha__graphics4__Graphics2 r0) {
	kha__Kravur r1;
	r1 = r0->myFont;
	return r1;
}

kha__Kravur kha_graphics4_Graphics2_set_font(kha__graphics4__Graphics2 r0,kha__Kravur r1) {
	kha__graphics4__TextShaderPainter r3;
	r3 = r0->textPainter;
	if( r3 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_setFont(r3,r1);
	r0->myFont = r1;
	return r1;
}

int kha_graphics4_Graphics2_set_fontSize(kha__graphics4__Graphics2 r0,int r1) {
	kha__graphics4__TextShaderPainter r3;
	int r2;
	r3 = r0->textPainter;
	if( r3 == NULL ) hl_null_access();
	r3->fontSize = r1;
	r2 = kha_graphics2_Graphics_set_fontSize(((kha__graphics2__Graphics)r0),r1);
	return r2;
}

void kha_graphics4_Graphics2_drawLine(kha__graphics4__Graphics2 r0,double r1,double r2,double r3,double r4,double* r5) {
	hl__types__ArrayObj r25;
	kha__graphics4__ImageShaderPainter r8;
	kha__graphics4__TextShaderPainter r9;
	kha__graphics4__ColoredShaderPainter r32;
	float r11, r12, r15, r16, r17, r19, r20, r21, r22, r23, r24, r30, r31;
	double r6, r13, r14, r18, r33, r34, r35;
	vdynamic *r28;
	kha__math__FastMatrix3 r27;
	varray *r29;
	int r10, r26;
	if( r5 ) goto label$30de1a7_14_3;
	r6 = 1.;
	goto label$30de1a7_14_4;
	label$30de1a7_14_3:
	r6 = *r5;
	label$30de1a7_14_4:
	r8 = r0->imagePainter;
	if( r8 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r8);
	r9 = r0->textPainter;
	if( r9 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r9);
	r10 = 0;
	r11 = (float)r10;
	r10 = 0;
	r12 = (float)r10;
	if( r4 != r2 ) goto label$30de1a7_14_22;
	r10 = 0;
	r15 = (float)r10;
	r10 = -1;
	r16 = (float)r10;
	r11 = r15;
	r12 = r16;
	goto label$30de1a7_14_31;
	label$30de1a7_14_22:
	r10 = 1;
	r15 = (float)r10;
	r13 = r3 - r1;
	r13 = -r13;
	r14 = r4 - r2;
	r13 = r13 / r14;
	r16 = (float)r13;
	r11 = r15;
	r12 = r16;
	label$30de1a7_14_31:
	r15 = r15 * r15;
	r16 = r12 * r12;
	r15 = r15 + r16;
	r13 = (double)r15;
	r13 = hl_math_sqrt(r13);
	r15 = (float)r13;
	r10 = 0;
	r17 = (float)r10;
	if( r15 == r17 ) goto label$30de1a7_14_48;
	r14 = (double)r15;
	r13 = r6 / r14;
	r17 = (float)r13;
	r16 = r11 * r17;
	r11 = r16;
	r17 = (float)r13;
	r16 = r12 * r17;
	r12 = r16;
	label$30de1a7_14_48:
	r14 = 0.5;
	r18 = (double)r11;
	r14 = r14 * r18;
	r13 = r1 + r14;
	r15 = (float)r13;
	r14 = 0.5;
	r18 = (double)r12;
	r14 = r14 * r18;
	r13 = r2 + r14;
	r16 = (float)r13;
	r14 = 0.5;
	r18 = (double)r11;
	r14 = r14 * r18;
	r13 = r3 + r14;
	r17 = (float)r13;
	r14 = 0.5;
	r18 = (double)r12;
	r14 = r14 * r18;
	r13 = r4 + r14;
	r19 = (float)r13;
	r20 = r15 - r11;
	r21 = r16 - r12;
	r22 = r17 - r11;
	r23 = r19 - r12;
	r25 = r0->transformations;
	if( r25 == NULL ) hl_null_access();
	r10 = r0->transformationIndex;
	r26 = r25->length;
	if( ((unsigned)r10) < ((unsigned)r26) ) goto label$30de1a7_14_79;
	r27 = NULL;
	goto label$30de1a7_14_82;
	label$30de1a7_14_79:
	r29 = r25->array;
	r28 = ((vdynamic**)(r29 + 1))[r10];
	r27 = (kha__math__FastMatrix3)r28;
	label$30de1a7_14_82:
	if( r27 == NULL ) hl_null_access();
	r24 = r27->_02;
	r24 = r24 * r15;
	r30 = r27->_12;
	r30 = r30 * r16;
	r24 = r24 + r30;
	r30 = r27->_22;
	r24 = r24 + r30;
	r30 = r27->_00;
	r30 = r30 * r15;
	r31 = r27->_10;
	r31 = r31 * r16;
	r30 = r30 + r31;
	r31 = r27->_20;
	r30 = r30 + r31;
	r13 = (double)r30;
	r14 = (double)r24;
	r13 = r13 / r14;
	r30 = r27->_01;
	r30 = r30 * r15;
	r31 = r27->_11;
	r31 = r31 * r16;
	r30 = r30 + r31;
	r31 = r27->_21;
	r30 = r30 + r31;
	r14 = (double)r30;
	r18 = (double)r24;
	r14 = r14 / r18;
	r30 = (float)r14;
	r31 = (float)r13;
	r15 = r31;
	r16 = r30;
	r25 = r0->transformations;
	if( r25 == NULL ) hl_null_access();
	r10 = r0->transformationIndex;
	r26 = r25->length;
	if( ((unsigned)r10) < ((unsigned)r26) ) goto label$30de1a7_14_121;
	r27 = NULL;
	goto label$30de1a7_14_124;
	label$30de1a7_14_121:
	r29 = r25->array;
	r28 = ((vdynamic**)(r29 + 1))[r10];
	r27 = (kha__math__FastMatrix3)r28;
	label$30de1a7_14_124:
	if( r27 == NULL ) hl_null_access();
	r24 = r27->_02;
	r24 = r24 * r17;
	r30 = r27->_12;
	r30 = r30 * r19;
	r24 = r24 + r30;
	r30 = r27->_22;
	r24 = r24 + r30;
	r30 = r27->_00;
	r30 = r30 * r17;
	r31 = r27->_10;
	r31 = r31 * r19;
	r30 = r30 + r31;
	r31 = r27->_20;
	r30 = r30 + r31;
	r13 = (double)r30;
	r14 = (double)r24;
	r13 = r13 / r14;
	r30 = r27->_01;
	r30 = r30 * r17;
	r31 = r27->_11;
	r31 = r31 * r19;
	r30 = r30 + r31;
	r31 = r27->_21;
	r30 = r30 + r31;
	r14 = (double)r30;
	r18 = (double)r24;
	r14 = r14 / r18;
	r30 = (float)r14;
	r31 = (float)r13;
	r17 = r31;
	r19 = r30;
	r25 = r0->transformations;
	if( r25 == NULL ) hl_null_access();
	r10 = r0->transformationIndex;
	r26 = r25->length;
	if( ((unsigned)r10) < ((unsigned)r26) ) goto label$30de1a7_14_163;
	r27 = NULL;
	goto label$30de1a7_14_166;
	label$30de1a7_14_163:
	r29 = r25->array;
	r28 = ((vdynamic**)(r29 + 1))[r10];
	r27 = (kha__math__FastMatrix3)r28;
	label$30de1a7_14_166:
	if( r27 == NULL ) hl_null_access();
	r24 = r27->_02;
	r24 = r24 * r20;
	r30 = r27->_12;
	r30 = r30 * r21;
	r24 = r24 + r30;
	r30 = r27->_22;
	r24 = r24 + r30;
	r30 = r27->_00;
	r30 = r30 * r20;
	r31 = r27->_10;
	r31 = r31 * r21;
	r30 = r30 + r31;
	r31 = r27->_20;
	r30 = r30 + r31;
	r13 = (double)r30;
	r14 = (double)r24;
	r13 = r13 / r14;
	r30 = r27->_01;
	r30 = r30 * r20;
	r31 = r27->_11;
	r31 = r31 * r21;
	r30 = r30 + r31;
	r31 = r27->_21;
	r30 = r30 + r31;
	r14 = (double)r30;
	r18 = (double)r24;
	r14 = r14 / r18;
	r30 = (float)r14;
	r31 = (float)r13;
	r20 = r31;
	r21 = r30;
	r25 = r0->transformations;
	if( r25 == NULL ) hl_null_access();
	r10 = r0->transformationIndex;
	r26 = r25->length;
	if( ((unsigned)r10) < ((unsigned)r26) ) goto label$30de1a7_14_205;
	r27 = NULL;
	goto label$30de1a7_14_208;
	label$30de1a7_14_205:
	r29 = r25->array;
	r28 = ((vdynamic**)(r29 + 1))[r10];
	r27 = (kha__math__FastMatrix3)r28;
	label$30de1a7_14_208:
	if( r27 == NULL ) hl_null_access();
	r24 = r27->_02;
	r24 = r24 * r22;
	r30 = r27->_12;
	r30 = r30 * r23;
	r24 = r24 + r30;
	r30 = r27->_22;
	r24 = r24 + r30;
	r30 = r27->_00;
	r30 = r30 * r22;
	r31 = r27->_10;
	r31 = r31 * r23;
	r30 = r30 + r31;
	r31 = r27->_20;
	r30 = r30 + r31;
	r13 = (double)r30;
	r14 = (double)r24;
	r13 = r13 / r14;
	r30 = r27->_01;
	r30 = r30 * r22;
	r31 = r27->_11;
	r31 = r31 * r23;
	r30 = r30 + r31;
	r31 = r27->_21;
	r30 = r30 + r31;
	r14 = (double)r30;
	r18 = (double)r24;
	r14 = r14 / r18;
	r30 = (float)r14;
	r31 = (float)r13;
	r23 = r30;
	r32 = r0->coloredPainter;
	if( r32 == NULL ) hl_null_access();
	r13 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r24 = (float)r13;
	r10 = kha_graphics4_Graphics2_get_color(r0);
	r13 = (double)r15;
	r14 = (double)r16;
	r18 = (double)r17;
	r33 = (double)r19;
	r34 = (double)r20;
	r35 = (double)r21;
	kha_graphics4_ColoredShaderPainter_fillTriangle(r32,r24,r10,r13,r14,r18,r33,r34,r35);
	r32 = r0->coloredPainter;
	if( r32 == NULL ) hl_null_access();
	r13 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r24 = (float)r13;
	r10 = kha_graphics4_Graphics2_get_color(r0);
	r13 = (double)r20;
	r14 = (double)r21;
	r18 = (double)r17;
	r33 = (double)r19;
	r34 = (double)r31;
	r35 = (double)r23;
	kha_graphics4_ColoredShaderPainter_fillTriangle(r32,r24,r10,r13,r14,r18,r33,r34,r35);
	return;
}

void kha_graphics4_Graphics2_fillTriangle(kha__graphics4__Graphics2 r0,double r1,double r2,double r3,double r4,double r5,double r6) {
	hl__types__ArrayObj r10;
	kha__graphics4__ImageShaderPainter r8;
	kha__graphics4__TextShaderPainter r9;
	kha__graphics4__ColoredShaderPainter r38;
	float r17, r18, r19, r21, r22, r25, r26, r27, r29, r30, r32, r33, r34, r35, r36, r39;
	double r16, r23, r24, r31, r37, r40, r41, r42, r43;
	vdynamic *r14;
	kha__math__FastMatrix3 r13, r20, r28;
	varray *r15;
	int r11, r12;
	r8 = r0->imagePainter;
	if( r8 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r8);
	r9 = r0->textPainter;
	if( r9 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r9);
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_15_13;
	r13 = NULL;
	goto label$30de1a7_15_16;
	label$30de1a7_15_13:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r13 = (kha__math__FastMatrix3)r14;
	label$30de1a7_15_16:
	r17 = (float)r1;
	r18 = (float)r2;
	if( r13 == NULL ) hl_null_access();
	r19 = r13->_02;
	r19 = r19 * r17;
	r21 = r13->_12;
	r21 = r21 * r18;
	r19 = r19 + r21;
	r21 = r13->_22;
	r19 = r19 + r21;
	r21 = r13->_00;
	r21 = r21 * r17;
	r22 = r13->_10;
	r22 = r22 * r18;
	r21 = r21 + r22;
	r22 = r13->_20;
	r21 = r21 + r22;
	r16 = (double)r21;
	r23 = (double)r19;
	r16 = r16 / r23;
	r21 = r13->_01;
	r21 = r21 * r17;
	r22 = r13->_11;
	r22 = r22 * r18;
	r21 = r21 + r22;
	r22 = r13->_21;
	r21 = r21 + r22;
	r23 = (double)r21;
	r24 = (double)r19;
	r23 = r23 / r24;
	r21 = (float)r23;
	r22 = (float)r16;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_15_55;
	r20 = NULL;
	goto label$30de1a7_15_58;
	label$30de1a7_15_55:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r20 = (kha__math__FastMatrix3)r14;
	label$30de1a7_15_58:
	r25 = (float)r3;
	r26 = (float)r4;
	if( r20 == NULL ) hl_null_access();
	r27 = r20->_02;
	r27 = r27 * r25;
	r29 = r20->_12;
	r29 = r29 * r26;
	r27 = r27 + r29;
	r29 = r20->_22;
	r27 = r27 + r29;
	r29 = r20->_00;
	r29 = r29 * r25;
	r30 = r20->_10;
	r30 = r30 * r26;
	r29 = r29 + r30;
	r30 = r20->_20;
	r29 = r29 + r30;
	r23 = (double)r29;
	r24 = (double)r27;
	r23 = r23 / r24;
	r29 = r20->_01;
	r29 = r29 * r25;
	r30 = r20->_11;
	r30 = r30 * r26;
	r29 = r29 + r30;
	r30 = r20->_21;
	r29 = r29 + r30;
	r24 = (double)r29;
	r31 = (double)r27;
	r24 = r24 / r31;
	r29 = (float)r24;
	r30 = (float)r23;
	r10 = r0->transformations;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->transformationIndex;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$30de1a7_15_97;
	r28 = NULL;
	goto label$30de1a7_15_100;
	label$30de1a7_15_97:
	r15 = r10->array;
	r14 = ((vdynamic**)(r15 + 1))[r11];
	r28 = (kha__math__FastMatrix3)r14;
	label$30de1a7_15_100:
	r32 = (float)r5;
	r33 = (float)r6;
	if( r28 == NULL ) hl_null_access();
	r34 = r28->_02;
	r34 = r34 * r32;
	r35 = r28->_12;
	r35 = r35 * r33;
	r34 = r34 + r35;
	r35 = r28->_22;
	r34 = r34 + r35;
	r35 = r28->_00;
	r35 = r35 * r32;
	r36 = r28->_10;
	r36 = r36 * r33;
	r35 = r35 + r36;
	r36 = r28->_20;
	r35 = r35 + r36;
	r24 = (double)r35;
	r31 = (double)r34;
	r24 = r24 / r31;
	r35 = r28->_01;
	r35 = r35 * r32;
	r36 = r28->_11;
	r36 = r36 * r33;
	r35 = r35 + r36;
	r36 = r28->_21;
	r35 = r35 + r36;
	r31 = (double)r35;
	r37 = (double)r34;
	r31 = r31 / r37;
	r35 = (float)r31;
	r36 = (float)r24;
	r38 = r0->coloredPainter;
	if( r38 == NULL ) hl_null_access();
	r31 = kha_graphics2_Graphics_get_opacity(((kha__graphics2__Graphics)r0));
	r39 = (float)r31;
	r11 = kha_graphics4_Graphics2_get_color(r0);
	r31 = (double)r22;
	r37 = (double)r21;
	r40 = (double)r30;
	r41 = (double)r29;
	r42 = (double)r36;
	r43 = (double)r35;
	kha_graphics4_ColoredShaderPainter_fillTriangle(r38,r39,r11,r31,r37,r40,r41,r42,r43);
	return;
}

int kha_graphics4_Graphics2_get_imageScaleQuality(kha__graphics4__Graphics2 r0) {
	int r1;
	r1 = r0->myImageScaleQuality;
	return r1;
}

int kha_graphics4_Graphics2_set_imageScaleQuality(kha__graphics4__Graphics2 r0,int r1) {
	bool r5;
	kha__graphics4__ImageShaderPainter r4;
	kha__graphics4__TextShaderPainter r6;
	int r3;
	r3 = r0->myImageScaleQuality;
	if( r1 != r3 ) goto label$30de1a7_17_3;
	return r1;
	label$30de1a7_17_3:
	r4 = r0->imagePainter;
	if( r4 == NULL ) hl_null_access();
	r3 = 1;
	if( r1 == r3 ) goto label$30de1a7_17_9;
	r5 = false;
	goto label$30de1a7_17_10;
	label$30de1a7_17_9:
	r5 = true;
	label$30de1a7_17_10:
	kha_graphics4_ImageShaderPainter_setBilinearFilter(r4,r5);
	r6 = r0->textPainter;
	if( r6 == NULL ) hl_null_access();
	r3 = 1;
	if( r1 == r3 ) goto label$30de1a7_17_17;
	r5 = false;
	goto label$30de1a7_17_18;
	label$30de1a7_17_17:
	r5 = true;
	label$30de1a7_17_18:
	kha_graphics4_TextShaderPainter_setBilinearFilter(r6,r5);
	r0->myImageScaleQuality = r1;
	return r1;
}

int kha_graphics4_Graphics2_get_mipmapScaleQuality(kha__graphics4__Graphics2 r0) {
	int r1;
	r1 = r0->myMipmapScaleQuality;
	return r1;
}

int kha_graphics4_Graphics2_set_mipmapScaleQuality(kha__graphics4__Graphics2 r0,int r1) {
	bool r4;
	kha__graphics4__ImageShaderPainter r3;
	int r5;
	r3 = r0->imagePainter;
	if( r3 == NULL ) hl_null_access();
	r5 = 1;
	if( r1 == r5 ) goto label$30de1a7_19_6;
	r4 = false;
	goto label$30de1a7_19_7;
	label$30de1a7_19_6:
	r4 = true;
	label$30de1a7_19_7:
	kha_graphics4_ImageShaderPainter_setBilinearMipmapFilter(r3,r4);
	r0->myMipmapScaleQuality = r1;
	return r1;
}

void kha_graphics4_Graphics2_setPipeline(kha__graphics4__Graphics2 r0,kha__graphics4__PipelineState r1) {
	haxe__ds__ObjectMap r9;
	kha__graphics4__PipelineState r3;
	vvirtual *r5, *r10;
	bool r12;
	kha__graphics4__ImageShaderPainter r6;
	kha__graphics4__TextShaderPainter r8;
	kha__graphics4__SimplePipelineCache r11;
	kha__graphics4__ColoredShaderPainter r7;
	vdynamic *r4;
	r3 = r0->lastPipeline;
	if( r1 != r3 ) goto label$30de1a7_20_3;
	return;
	label$30de1a7_20_3:
	r0->lastPipeline = r1;
	kha_graphics4_Graphics2_flush(r0);
	if( r1 ) goto label$30de1a7_20_19;
	r6 = r0->imagePainter;
	if( r6 == NULL ) hl_null_access();
	r5 = NULL;
	r5 = kha_graphics4_ImageShaderPainter_set_pipeline(r6,r5);
	r7 = r0->coloredPainter;
	if( r7 == NULL ) hl_null_access();
	r5 = NULL;
	r5 = kha_graphics4_ColoredShaderPainter_set_pipeline(r7,r5);
	r8 = r0->textPainter;
	if( r8 == NULL ) hl_null_access();
	r5 = NULL;
	r5 = kha_graphics4_TextShaderPainter_set_pipeline(r8,r5);
	goto label$30de1a7_20_47;
	label$30de1a7_20_19:
	r9 = r0->pipelineCache;
	if( r9 == NULL ) hl_null_access();
	r4 = haxe_ds_ObjectMap_get(r9,((vdynamic*)r1));
	r5 = hl_to_virtual(&t$vrt_39c470b,(vdynamic*)r4);
	if( r5 ) goto label$30de1a7_20_38;
	r11 = (kha__graphics4__SimplePipelineCache)hl_alloc_obj(&t$kha_graphics4_SimplePipelineCache);
	r12 = true;
	kha_graphics4_SimplePipelineCache_new(r11,r1,r12);
	if( r11 ) goto label$30de1a7_20_30;
	r10 = NULL;
	goto label$30de1a7_20_34;
	label$30de1a7_20_30:
	r10 = r11->f$1;
	if( r10 ) goto label$30de1a7_20_34;
	r10 = hl_to_virtual(&t$vrt_39c470b,(vdynamic*)r11);
	r11->f$1 = r10;
	label$30de1a7_20_34:
	r5 = r10;
	r9 = r0->pipelineCache;
	if( r9 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r9,((vdynamic*)r1),((vdynamic*)r10));
	label$30de1a7_20_38:
	r6 = r0->imagePainter;
	if( r6 == NULL ) hl_null_access();
	r10 = kha_graphics4_ImageShaderPainter_set_pipeline(r6,r5);
	r7 = r0->coloredPainter;
	if( r7 == NULL ) hl_null_access();
	r10 = kha_graphics4_ColoredShaderPainter_set_pipeline(r7,r5);
	r8 = r0->textPainter;
	if( r8 == NULL ) hl_null_access();
	r10 = kha_graphics4_TextShaderPainter_set_pipeline(r8,r5);
	label$30de1a7_20_47:
	return;
}

void kha_graphics4_Graphics2_scissor(kha__graphics4__Graphics2 r0,int r1,int r2,int r3,int r4) {
	vvirtual *r7;
	bool r5;
	r5 = true;
	r0->scissorEnabled = r5;
	r0->scissorX = r1;
	r0->scissorY = r2;
	r0->scissorW = r3;
	r0->scissorH = r4;
	kha_graphics4_Graphics2_flush(r0);
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	if( hl_vfields(r7)[34] ) ((void (*)(vdynamic*,int,int,int,int))hl_vfields(r7)[34])(r7->value,r1,r2,r3,r4); else {
		void *args[] = {&r1,&r2,&r3,&r4};
		hl_dyn_call_obj(r7->value,&t$fun_5ac3579,82257948/*scissor*/,args,NULL);
	}
	return;
}

void kha_graphics4_Graphics2_disableScissor(kha__graphics4__Graphics2 r0) {
	vvirtual *r3;
	bool r1;
	r1 = false;
	r0->scissorEnabled = r1;
	kha_graphics4_Graphics2_flush(r0);
	r3 = r0->g;
	if( r3 == NULL ) hl_null_access();
	if( hl_vfields(r3)[42] ) ((void (*)(vdynamic*))hl_vfields(r3)[42])(r3->value); else {
		hl_dyn_call_obj(r3->value,&t$fun_4c7a70a,40268564/*disableScissor*/,NULL,NULL);
	}
	return;
}

void kha_graphics4_Graphics2_begin(kha__graphics4__Graphics2 r0,bool* r1,vdynamic* r2) {
	String r8;
	hl__types__ArrayObj r10;
	vvirtual *r9;
	bool r3;
	kha__graphics4__Graphics2 r5;
	vdynamic *r7;
	kha__graphics4__$Graphics2 r6;
	if( r1 ) goto label$30de1a7_23_3;
	r3 = true;
	goto label$30de1a7_23_4;
	label$30de1a7_23_3:
	r3 = *r1;
	label$30de1a7_23_4:
	r6 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r5 = r6->current;
	if( r5 ) goto label$30de1a7_23_10;
	r6 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r6->current = r0;
	goto label$30de1a7_23_13;
	label$30de1a7_23_10:
	r8 = (String)s$End_before_you_begin;
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$30de1a7_23_13:
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	r10 = NULL;
	if( hl_vfields(r9)[46] ) ((void (*)(vdynamic*,hl__types__ArrayObj))hl_vfields(r9)[46])(r9->value,r10); else {
		void *args[] = {r10};
		hl_dyn_call_obj(r9->value,&t$fun_58e3acc,-262805217/*begin*/,args,NULL);
	}
	if( !r3 ) goto label$30de1a7_23_19;
	kha_graphics4_Graphics2_clear(r0,r2);
	label$30de1a7_23_19:
	kha_graphics4_Graphics2_setProjection(r0);
	return;
}

void kha_graphics4_Graphics2_clear(kha__graphics4__Graphics2 r0,vdynamic* r1) {
	vvirtual *r3;
	vdynamic *r4, *r6, *r7;
	int r5;
	kha_graphics4_Graphics2_flush(r0);
	r3 = r0->g;
	if( r3 == NULL ) hl_null_access();
	if( r1 ) goto label$30de1a7_24_7;
	r5 = -16777216;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r5;
	goto label$30de1a7_24_8;
	label$30de1a7_24_7:
	r4 = r1;
	label$30de1a7_24_8:
	r6 = NULL;
	r7 = NULL;
	if( hl_vfields(r3)[43] ) ((void (*)(vdynamic*,vdynamic*,vdynamic*,vdynamic*))hl_vfields(r3)[43])(r3->value,r4,r6,r7); else {
		void *args[] = {r4,r6,r7};
		hl_dyn_call_obj(r3->value,&t$fun_5967954,140210839/*clear*/,args,NULL);
	}
	return;
}

void kha_graphics4_Graphics2_flush(kha__graphics4__Graphics2 r0) {
	kha__graphics4__$ColoredShaderPainter r6;
	bool r8;
	kha__graphics4__ImageShaderPainter r2;
	kha__graphics4__TextShaderPainter r3;
	kha__graphics4__ColoredShaderPainter r4;
	int r5, r7;
	r2 = r0->imagePainter;
	if( r2 == NULL ) hl_null_access();
	kha_graphics4_ImageShaderPainter_end(r2);
	r3 = r0->textPainter;
	if( r3 == NULL ) hl_null_access();
	kha_graphics4_TextShaderPainter_end(r3);
	r4 = r0->coloredPainter;
	r6 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r5 = r6->triangleBufferIndex;
	r7 = 0;
	if( r7 >= r5 ) goto label$30de1a7_25_14;
	if( r4 == NULL ) hl_null_access();
	r8 = false;
	kha_graphics4_ColoredShaderPainter_drawTriBuffer(r4,r8);
	label$30de1a7_25_14:
	r6 = (kha__graphics4__$ColoredShaderPainter)g$59e5fb3;
	r5 = r6->bufferIndex;
	r7 = 0;
	if( r7 >= r5 ) goto label$30de1a7_25_21;
	if( r4 == NULL ) hl_null_access();
	r8 = false;
	kha_graphics4_ColoredShaderPainter_drawBuffer(r4,r8);
	label$30de1a7_25_21:
	return;
}

void kha_graphics4_Graphics2_end(kha__graphics4__Graphics2 r0) {
	String r6;
	vvirtual *r2;
	kha__graphics4__Graphics2 r3;
	vdynamic *r5;
	kha__graphics4__$Graphics2 r4;
	kha_graphics4_Graphics2_flush(r0);
	r2 = r0->g;
	if( r2 == NULL ) hl_null_access();
	if( hl_vfields(r2)[39] ) ((void (*)(vdynamic*))hl_vfields(r2)[39])(r2->value); else {
		hl_dyn_call_obj(r2->value,&t$fun_4c7a70a,5047259/*end*/,NULL,NULL);
	}
	r4 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r3 = r4->current;
	if( r3 != r0 ) goto label$30de1a7_26_11;
	r3 = NULL;
	r4 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r4->current = r3;
	goto label$30de1a7_26_14;
	label$30de1a7_26_11:
	r6 = (String)s$Begin_before_you_end;
	r5 = haxe_Exception_thrown(((vdynamic*)r6));
	hl_throw((vdynamic*)r5);
	label$30de1a7_26_14:
	return;
}

void kha_graphics4_Graphics2_drawVideoInternal(kha__graphics4__Graphics2 r0,kha__Video r1,double r2,double r3,double r4,double r5) {
	return;
}

void kha_graphics4_Graphics2_drawVideo(kha__graphics4__Graphics2 r0,kha__Video r1,double r2,double r3,double r4,double r5) {
	kha__graphics4__PipelineState r7;
	kha__graphics4__$Graphics2 r8;
	r8 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r7 = r8->videoPipeline;
	kha_graphics4_Graphics2_setPipeline(r0,r7);
	((void (*)(kha__graphics4__Graphics2,kha__Video,double,double,double,double))r0->$type->vobj_proto[25])(r0,r1,r2,r3,r4,r5);
	r7 = NULL;
	kha_graphics4_Graphics2_setPipeline(r0,r7);
	return;
}

kha__graphics4__VertexStructure kha_graphics4_Graphics2_createImageVertexStructure() {
	String r2;
	int r3;
	kha__graphics4__VertexStructure r0;
	r0 = (kha__graphics4__VertexStructure)hl_alloc_obj(&t$kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r0);
	r2 = (String)s$vertexPosition;
	r3 = 2;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r2 = (String)s$texPosition;
	r3 = 1;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r2 = (String)s$vertexColor;
	r3 = 3;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	return r0;
}

kha__graphics4__PipelineState kha_graphics4_Graphics2_createImagePipeline(kha__graphics4__VertexStructure r0) {
	kha__graphics4__FragmentShader r3;
	kha__graphics4__PipelineState r1;
	hl__types__ArrayObj r6;
	hl_type *r8;
	kha__$Shaders r4;
	kha__graphics4__VertexShader r5;
	int r9;
	varray *r7;
	r1 = (kha__graphics4__PipelineState)hl_alloc_obj(&t$kha_graphics4_PipelineState);
	kha_graphics4_PipelineState_new(r1);
	r4 = (kha__$Shaders)g$_kha_Shaders;
	r3 = r4->painter_image_frag;
	r1->fragmentShader = r3;
	r4 = (kha__$Shaders)g$_kha_Shaders;
	r5 = r4->painter_image_vert;
	r1->vertexShader = r5;
	r8 = &t$kha_graphics4_VertexStructure;
	r9 = 1;
	r7 = hl_alloc_array(r8,r9);
	r9 = 0;
	((kha__graphics4__VertexStructure*)(r7 + 1))[r9] = r0;
	r6 = hl_types_ArrayObj_alloc(r7);
	r1->inputLayout = r6;
	r9 = 1;
	r1->blendSource = r9;
	r9 = 5;
	r1->blendDestination = r9;
	r9 = 1;
	r1->alphaBlendSource = r9;
	r9 = 5;
	r1->alphaBlendDestination = r9;
	return r1;
}

kha__graphics4__VertexStructure kha_graphics4_Graphics2_createColoredVertexStructure() {
	String r2;
	int r3;
	kha__graphics4__VertexStructure r0;
	r0 = (kha__graphics4__VertexStructure)hl_alloc_obj(&t$kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r0);
	r2 = (String)s$vertexPosition;
	r3 = 2;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r2 = (String)s$vertexColor;
	r3 = 3;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	return r0;
}

kha__graphics4__PipelineState kha_graphics4_Graphics2_createColoredPipeline(kha__graphics4__VertexStructure r0) {
	kha__graphics4__FragmentShader r3;
	kha__graphics4__PipelineState r1;
	hl__types__ArrayObj r6;
	hl_type *r8;
	kha__$Shaders r4;
	kha__graphics4__VertexShader r5;
	int r9;
	varray *r7;
	r1 = (kha__graphics4__PipelineState)hl_alloc_obj(&t$kha_graphics4_PipelineState);
	kha_graphics4_PipelineState_new(r1);
	r4 = (kha__$Shaders)g$_kha_Shaders;
	r3 = r4->painter_colored_frag;
	r1->fragmentShader = r3;
	r4 = (kha__$Shaders)g$_kha_Shaders;
	r5 = r4->painter_colored_vert;
	r1->vertexShader = r5;
	r8 = &t$kha_graphics4_VertexStructure;
	r9 = 1;
	r7 = hl_alloc_array(r8,r9);
	r9 = 0;
	((kha__graphics4__VertexStructure*)(r7 + 1))[r9] = r0;
	r6 = hl_types_ArrayObj_alloc(r7);
	r1->inputLayout = r6;
	r9 = 1;
	r1->blendSource = r9;
	r9 = 5;
	r1->blendDestination = r9;
	r9 = 1;
	r1->alphaBlendSource = r9;
	r9 = 5;
	r1->alphaBlendDestination = r9;
	return r1;
}

kha__graphics4__VertexStructure kha_graphics4_Graphics2_createTextVertexStructure() {
	String r2;
	int r3;
	kha__graphics4__VertexStructure r0;
	r0 = (kha__graphics4__VertexStructure)hl_alloc_obj(&t$kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r0);
	r2 = (String)s$vertexPosition;
	r3 = 2;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r2 = (String)s$texPosition;
	r3 = 1;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r2 = (String)s$vertexColor;
	r3 = 3;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	return r0;
}

kha__graphics4__PipelineState kha_graphics4_Graphics2_createTextPipeline(kha__graphics4__VertexStructure r0) {
	kha__graphics4__FragmentShader r3;
	kha__graphics4__PipelineState r1;
	hl__types__ArrayObj r6;
	hl_type *r8;
	kha__$Shaders r4;
	kha__graphics4__VertexShader r5;
	int r9;
	varray *r7;
	r1 = (kha__graphics4__PipelineState)hl_alloc_obj(&t$kha_graphics4_PipelineState);
	kha_graphics4_PipelineState_new(r1);
	r4 = (kha__$Shaders)g$_kha_Shaders;
	r3 = r4->painter_text_frag;
	r1->fragmentShader = r3;
	r4 = (kha__$Shaders)g$_kha_Shaders;
	r5 = r4->painter_text_vert;
	r1->vertexShader = r5;
	r8 = &t$kha_graphics4_VertexStructure;
	r9 = 1;
	r7 = hl_alloc_array(r8,r9);
	r9 = 0;
	((kha__graphics4__VertexStructure*)(r7 + 1))[r9] = r0;
	r6 = hl_types_ArrayObj_alloc(r7);
	r1->inputLayout = r6;
	r9 = 3;
	r1->blendSource = r9;
	r9 = 5;
	r1->blendDestination = r9;
	r9 = 3;
	r1->alphaBlendSource = r9;
	r9 = 5;
	r1->alphaBlendDestination = r9;
	return r1;
}

void kha_graphics4_Graphics2_new(kha__graphics4__Graphics2 r0,vvirtual* r1) {
	kha__graphics4__FragmentShader r30;
	haxe__ds__ObjectMap r5;
	kha__graphics4__PipelineState r4;
	vvirtual *r7;
	kha__math__FastMatrix4 r11;
	bool r3;
	kha__$Shaders r31;
	kha__graphics4__VertexShader r32;
	kha__graphics4__ImageShaderPainter r8;
	kha__graphics4__TextShaderPainter r10;
	kha__graphics4__ColoredShaderPainter r9;
	float r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27;
	kha__graphics4__VertexStructure r29;
	kha__graphics4__$Graphics2 r28;
	int r2;
	r2 = -1;
	r0->scissorH = r2;
	r2 = -1;
	r0->scissorW = r2;
	r2 = -1;
	r0->scissorY = r2;
	r2 = -1;
	r0->scissorX = r2;
	r3 = false;
	r0->scissorEnabled = r3;
	r4 = NULL;
	r0->lastPipeline = r4;
	r5 = (haxe__ds__ObjectMap)hl_alloc_obj(&t$haxe_ds_ObjectMap);
	haxe_ds_ObjectMap_new(r5);
	r0->pipelineCache = r5;
	r2 = 0;
	r0->myMipmapScaleQuality = r2;
	r2 = 0;
	r0->myImageScaleQuality = r2;
	kha_graphics2_Graphics_new(((kha__graphics2__Graphics)r0));
	r2 = -1;
	r2 = kha_graphics4_Graphics2_set_color(r0,r2);
	r0->canvas = r1;
	if( r1 == NULL ) hl_null_access();
	if( hl_vfields(r1)[4] ) r7 = ((vvirtual* (*)(vdynamic*))hl_vfields(r1)[4])(r1->value); else {
		r7 = (vvirtual*)hl_dyn_call_obj(r1->value,&t$fun_540795c,-483397588/*get_g4*/,NULL,NULL);
	}
	r0->g = r7;
	r8 = (kha__graphics4__ImageShaderPainter)hl_alloc_obj(&t$kha_graphics4_ImageShaderPainter);
	r7 = r0->g;
	kha_graphics4_ImageShaderPainter_new(r8,r7);
	r0->imagePainter = r8;
	r9 = (kha__graphics4__ColoredShaderPainter)hl_alloc_obj(&t$kha_graphics4_ColoredShaderPainter);
	r7 = r0->g;
	kha_graphics4_ColoredShaderPainter_new(r9,r7);
	r0->coloredPainter = r9;
	r10 = (kha__graphics4__TextShaderPainter)hl_alloc_obj(&t$kha_graphics4_TextShaderPainter);
	r7 = r0->g;
	kha_graphics4_TextShaderPainter_new(r10,r7);
	r0->textPainter = r10;
	r10 = r0->textPainter;
	if( r10 == NULL ) hl_null_access();
	r2 = kha_graphics2_Graphics_get_fontSize(((kha__graphics2__Graphics)r0));
	r10->fontSize = r2;
	r11 = (kha__math__FastMatrix4)hl_alloc_obj(&t$kha_math_FastMatrix4);
	r2 = 1;
	r12 = (float)r2;
	r2 = 0;
	r13 = (float)r2;
	r2 = 0;
	r14 = (float)r2;
	r2 = 0;
	r15 = (float)r2;
	r2 = 0;
	r16 = (float)r2;
	r2 = 1;
	r17 = (float)r2;
	r2 = 0;
	r18 = (float)r2;
	r2 = 0;
	r19 = (float)r2;
	r2 = 0;
	r20 = (float)r2;
	r2 = 0;
	r21 = (float)r2;
	r2 = 1;
	r22 = (float)r2;
	r2 = 0;
	r23 = (float)r2;
	r2 = 0;
	r24 = (float)r2;
	r2 = 0;
	r25 = (float)r2;
	r2 = 0;
	r26 = (float)r2;
	r2 = 1;
	r27 = (float)r2;
	kha_math_FastMatrix4_new(r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23,r24,r25,r26,r27);
	r0->projectionMatrix = r11;
	kha_graphics4_Graphics2_setProjection(r0);
	r28 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r4 = r28->videoPipeline;
	if( r4 ) goto label$30de1a7_35_101;
	r29 = kha_graphics4_Graphics2_createImageVertexStructure();
	r4 = kha_graphics4_Graphics2_createImagePipeline(r29);
	r28 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r28->videoPipeline = r4;
	r28 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r4 = r28->videoPipeline;
	if( r4 == NULL ) hl_null_access();
	r31 = (kha__$Shaders)g$_kha_Shaders;
	r30 = r31->painter_video_frag;
	r4->fragmentShader = r30;
	r28 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r4 = r28->videoPipeline;
	if( r4 == NULL ) hl_null_access();
	r31 = (kha__$Shaders)g$_kha_Shaders;
	r32 = r31->painter_video_vert;
	r4->vertexShader = r32;
	r28 = (kha__graphics4__$Graphics2)g$_kha_graphics4_Graphics2;
	r4 = r28->videoPipeline;
	if( r4 == NULL ) hl_null_access();
	kha_graphics4_PipelineState_compile(r4);
	label$30de1a7_35_101:
	return;
}

