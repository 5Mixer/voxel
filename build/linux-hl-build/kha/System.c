// Generated by HLC 4.1.3 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <kha/System.h>
#include <kha/WindowOptions.h>
#include <kha/FramebufferOptions.h>
extern hl_type t$nul_bool;
extern hl_type t$kha_SystemOptions;
extern hl_type t$String;
extern hl_type t$nul_i32;
extern hl_type t$kha_WindowOptions;
extern hl_type t$_i32;
void kha_WindowOptions_new(kha__WindowOptions,String,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*);
extern hl_type t$kha_FramebufferOptions;
void kha_FramebufferOptions_new(kha__FramebufferOptions,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*);
void kha_SystemOptions_new(kha__SystemOptions,String,vdynamic*,vdynamic*,kha__WindowOptions,kha__FramebufferOptions);
extern hl_type t$fun_091f73d;
void kha_System_start(kha__SystemOptions,vclosure*);
extern kha__$System g$_kha_System;
void kha_SystemImpl_init(kha__SystemOptions,vclosure*);
extern hl_type t$ctx_d8e6a04;
extern hl_type t$fun_8ee4e4e;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
bool hl_types_ArrayObj_remove(hl__types__ArrayObj,vdynamic*);
void kha_SystemImpl_login(void);
bool kha_SystemImpl_waitingForLogin(void);
void kha_SystemImpl_allowUserChange(void);
void kha_SystemImpl_disallowUserChange(void);
double kha_SystemImpl_getTime(void);
kha__Window kha_Window_get(int);
int kha_Window_get_width(kha__Window);
hl__types__ArrayObj kha_Window_get_all(void);
int kha_Window_get_height(kha__Window);
String kha_SystemImpl_getSystemId(void);
void kha_SystemImpl_vibrate(int);
String kha_SystemImpl_getLanguage(void);
bool kha_SystemImpl_requestShutdown(void);
void kha_SystemImpl_loadUrl(String);
int kha_Window_get_mode(kha__Window);
int kha_Window_set_mode(kha__Window,int);
bool kha_Window_get_vSynced(kha__Window);
#include <kha/Display.h>
kha__Display kha_Display_get_primary(void);
int kha_Display_get_frequency(kha__Display);
int kha_Display_get_pixelsPerInch(kha__Display);
double kha_SystemImpl_safeZone(void);
bool kha_SystemImpl_automaticSafeZone(void);
void kha_SystemImpl_setSafeZone(double);
void kha_SystemImpl_unlockAchievement(int);

void kha_System_init__$1(vclosure* r0,kha__Window r1) {
	if( r0 == NULL ) hl_null_access();
	r0->hasValue ? ((void (*)(vdynamic*))r0->fun)((vdynamic*)r0->value) : ((void (*)(void))r0->fun)();
	return;
}

void kha_System_init(vvirtual* r0,vclosure* r1) {
	String r9, r13;
	bool r5;
	kha__FramebufferOptions r21;
	kha__SystemOptions r8;
	vclosure *r22;
	vdynamic *r4, *r10, *r11, *r14, *r15, *r16, *r17, *r18, *r19, *r20;
	kha__WindowOptions r12;
	int r2, r6, r7;
	r2 = 0;
	if( r0 == NULL ) hl_null_access();
	r4 = hl_vfields(r0)[3] ? (*(vdynamic**)(hl_vfields(r0)[3])) : (vdynamic*)hl_dyn_getp(r0->value,-380619167/*resizable*/,&t$nul_bool);
	r5 = r4 ? r4->v.b : 0;
	if( !r5 ) goto label$f550790_2_8;
	r7 = 1;
	r6 = r2 | r7;
	r2 = r6;
	label$f550790_2_8:
	r4 = hl_vfields(r0)[1] ? (*(vdynamic**)(hl_vfields(r0)[1])) : (vdynamic*)hl_dyn_getp(r0->value,19711133/*maximizable*/,&t$nul_bool);
	r5 = r4 ? r4->v.b : 0;
	if( !r5 ) goto label$f550790_2_14;
	r7 = 4;
	r6 = r2 | r7;
	r2 = r6;
	label$f550790_2_14:
	r4 = hl_vfields(r0)[2] ? (*(vdynamic**)(hl_vfields(r0)[2])) : (vdynamic*)hl_dyn_getp(r0->value,101869697/*minimizable*/,&t$nul_bool);
	r5 = r4 ? r4->v.b : 0;
	if( !r5 ) goto label$f550790_2_20;
	r7 = 2;
	r6 = r2 | r7;
	r2 = r6;
	label$f550790_2_20:
	r8 = (kha__SystemOptions)hl_alloc_obj(&t$kha_SystemOptions);
	r9 = hl_vfields(r0)[5] ? (*(String*)(hl_vfields(r0)[5])) : (String)hl_dyn_getp(r0->value,272307608/*title*/,&t$String);
	r10 = hl_vfields(r0)[7] ? (*(vdynamic**)(hl_vfields(r0)[7])) : (vdynamic*)hl_dyn_getp(r0->value,-362629759/*width*/,&t$nul_i32);
	r11 = hl_vfields(r0)[0] ? (*(vdynamic**)(hl_vfields(r0)[0])) : (vdynamic*)hl_dyn_getp(r0->value,38537191/*height*/,&t$nul_i32);
	r12 = (kha__WindowOptions)hl_alloc_obj(&t$kha_WindowOptions);
	r13 = NULL;
	r6 = -1;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r6;
	r6 = -1;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r6;
	r6 = 800;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r6;
	r6 = 600;
	r17 = hl_alloc_dynamic(&t$_i32);
	r17->v.i = r6;
	r6 = -1;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r6;
	r5 = true;
	r4 = hl_alloc_dynbool(r5);
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r2;
	r20 = hl_vfields(r0)[8] ? (*(vdynamic**)(hl_vfields(r0)[8])) : (vdynamic*)hl_dyn_getp(r0->value,-214480146/*windowMode*/,&t$nul_i32);
	kha_WindowOptions_new(r12,r13,r14,r15,r16,r17,r18,r4,r19,r20);
	r21 = (kha__FramebufferOptions)hl_alloc_obj(&t$kha_FramebufferOptions);
	r6 = 60;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r6;
	r4 = hl_vfields(r0)[6] ? (*(vdynamic**)(hl_vfields(r0)[6])) : (vdynamic*)hl_dyn_getp(r0->value,142695030/*vSync*/,&t$nul_bool);
	r6 = 32;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r6;
	r6 = 16;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r6;
	r6 = 8;
	r17 = hl_alloc_dynamic(&t$_i32);
	r17->v.i = r6;
	r18 = hl_vfields(r0)[4] ? (*(vdynamic**)(hl_vfields(r0)[4])) : (vdynamic*)hl_dyn_getp(r0->value,391074716/*samplesPerPixel*/,&t$nul_i32);
	kha_FramebufferOptions_new(r21,r14,r4,r15,r16,r17,r18);
	kha_SystemOptions_new(r8,r9,r10,r11,r12,r21);
	r22 = hl_alloc_closure_ptr(&t$fun_091f73d,kha_System_init__$1,r1);
	kha_System_start(r8,r22);
	return;
}

void kha_System_start(kha__SystemOptions r0,vclosure* r1) {
	String r2;
	kha__$System r3;
	if( r0 == NULL ) hl_null_access();
	r2 = r0->title;
	r3 = (kha__$System)g$_kha_System;
	r3->theTitle = r2;
	kha_SystemImpl_init(r0,r1);
	return;
}

String kha_System_get_title() {
	String r0;
	kha__$System r1;
	r1 = (kha__$System)g$_kha_System;
	r0 = r1->theTitle;
	return r0;
}

void kha_System_notifyOnRender__$1(venum* r0,hl__types__ArrayObj r1) {
	kha__Framebuffer r6;
	vclosure *r5;
	vdynamic *r7;
	varray *r8;
	int r3, r4;
	r3 = ((Enumt$ctx_d8e6a04*)r0)->p1;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->length;
	if( r3 >= r4 ) goto label$f550790_5_15;
	r5 = ((Enumt$ctx_d8e6a04*)r0)->p0;
	if( r5 == NULL ) hl_null_access();
	r3 = ((Enumt$ctx_d8e6a04*)r0)->p1;
	r4 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$f550790_5_11;
	r6 = NULL;
	goto label$f550790_5_14;
	label$f550790_5_11:
	r8 = r1->array;
	r7 = ((vdynamic**)(r8 + 1))[r3];
	r6 = (kha__Framebuffer)r7;
	label$f550790_5_14:
	r5->hasValue ? ((void (*)(vdynamic*,kha__Framebuffer))r5->fun)((vdynamic*)r5->value,r6) : ((void (*)(kha__Framebuffer))r5->fun)(r6);
	label$f550790_5_15:
	return;
}

void kha_System_notifyOnRender(vclosure* r0,int* r1) {
	hl__types__ArrayObj r4;
	venum *r7;
	vclosure *r6;
	kha__$System r5;
	int r2, r3;
	if( r1 ) goto label$f550790_6_3;
	r2 = 0;
	goto label$f550790_6_4;
	label$f550790_6_3:
	r2 = *r1;
	label$f550790_6_4:
	r5 = (kha__$System)g$_kha_System;
	r4 = r5->renderListeners;
	if( r4 == NULL ) hl_null_access();
	r7 = hl_alloc_enum(&t$ctx_d8e6a04,0);
	((Enumt$ctx_d8e6a04*)r7)->p0 = (vclosure*)r0;
	((Enumt$ctx_d8e6a04*)r7)->p1 = (int)r2;
	r6 = hl_alloc_closure_ptr(&t$fun_8ee4e4e,kha_System_notifyOnRender__$1,r7);
	r3 = hl_types_ArrayObj_push(r4,((vdynamic*)r6));
	return;
}

void kha_System_notifyOnFrames(vclosure* r0) {
	hl__types__ArrayObj r2;
	kha__$System r3;
	int r1;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->renderListeners;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayObj_push(r2,((vdynamic*)r0));
	return;
}

void kha_System_removeFramesListener(vclosure* r0) {
	hl__types__ArrayObj r2;
	bool r1;
	kha__$System r3;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->renderListeners;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayObj_remove(r2,((vdynamic*)r0));
	return;
}

void kha_System_notifyOnApplicationState(vclosure* r0,vclosure* r1,vclosure* r2,vclosure* r3,vclosure* r4) {
	hl__types__ArrayObj r7;
	kha__$System r8;
	int r6;
	if( !r0 ) goto label$f550790_9_5;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->foregroundListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r7,((vdynamic*)r0));
	label$f550790_9_5:
	if( !r1 ) goto label$f550790_9_10;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->resumeListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r7,((vdynamic*)r1));
	label$f550790_9_10:
	if( !r2 ) goto label$f550790_9_15;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->pauseListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r7,((vdynamic*)r2));
	label$f550790_9_15:
	if( !r3 ) goto label$f550790_9_20;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->backgroundListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r7,((vdynamic*)r3));
	label$f550790_9_20:
	if( !r4 ) goto label$f550790_9_25;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->shutdownListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r7,((vdynamic*)r4));
	label$f550790_9_25:
	return;
}

void kha_System_removeApplicationStateListeners(vclosure* r0,vclosure* r1,vclosure* r2,vclosure* r3,vclosure* r4) {
	hl__types__ArrayObj r7;
	bool r6;
	kha__$System r8;
	if( !r0 ) goto label$f550790_10_5;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->foregroundListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_remove(r7,((vdynamic*)r0));
	label$f550790_10_5:
	if( !r1 ) goto label$f550790_10_10;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->resumeListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_remove(r7,((vdynamic*)r1));
	label$f550790_10_10:
	if( !r2 ) goto label$f550790_10_15;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->pauseListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_remove(r7,((vdynamic*)r2));
	label$f550790_10_15:
	if( !r3 ) goto label$f550790_10_20;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->backgroundListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_remove(r7,((vdynamic*)r3));
	label$f550790_10_20:
	if( !r4 ) goto label$f550790_10_25;
	r8 = (kha__$System)g$_kha_System;
	r7 = r8->shutdownListeners;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_remove(r7,((vdynamic*)r4));
	label$f550790_10_25:
	return;
}

void kha_System_notifyOnDropFiles(vclosure* r0) {
	hl__types__ArrayObj r2;
	kha__$System r3;
	int r1;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->dropFilesListeners;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayObj_push(r2,((vdynamic*)r0));
	return;
}

void kha_System_removeDropListener(vclosure* r0) {
	hl__types__ArrayObj r2;
	bool r1;
	kha__$System r3;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->dropFilesListeners;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayObj_remove(r2,((vdynamic*)r0));
	return;
}

void kha_System_notifyOnCutCopyPaste(vclosure* r0,vclosure* r1,vclosure* r2) {
	kha__$System r3;
	r3 = (kha__$System)g$_kha_System;
	r3->cutListener = r0;
	r3 = (kha__$System)g$_kha_System;
	r3->copyListener = r1;
	r3 = (kha__$System)g$_kha_System;
	r3->pasteListener = r2;
	return;
}

void kha_System_notifyOnLoginLogout(vclosure* r0,vclosure* r1) {
	kha__$System r2;
	r2 = (kha__$System)g$_kha_System;
	r2->loginListener = r0;
	r2 = (kha__$System)g$_kha_System;
	r2->logoutListener = r1;
	return;
}

void kha_System_login() {
	kha_SystemImpl_login();
	return;
}

bool kha_System_waitingForLogin() {
	bool r0;
	r0 = kha_SystemImpl_waitingForLogin();
	return r0;
}

void kha_System_allowUserChange() {
	kha_SystemImpl_allowUserChange();
	return;
}

void kha_System_disallowUserChange() {
	kha_SystemImpl_disallowUserChange();
	return;
}

void kha_System_render(hl__types__ArrayObj r0) {
	hl__types__ArrayObj r3;
	vclosure *r6;
	kha__$System r4;
	vdynamic *r7;
	varray *r8;
	int r1, r5;
	r1 = 0;
	r4 = (kha__$System)g$_kha_System;
	r3 = r4->renderListeners;
	label$f550790_19_3:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r1 >= r5 ) goto label$f550790_19_18;
	r5 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r5) ) goto label$f550790_19_11;
	r6 = NULL;
	goto label$f550790_19_14;
	label$f550790_19_11:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r1];
	r6 = (vclosure*)r7;
	label$f550790_19_14:
	++r1;
	if( r6 == NULL ) hl_null_access();
	r6->hasValue ? ((void (*)(vdynamic*,hl__types__ArrayObj))r6->fun)((vdynamic*)r6->value,r0) : ((void (*)(hl__types__ArrayObj))r6->fun)(r0);
	goto label$f550790_19_3;
	label$f550790_19_18:
	return;
}

void kha_System_foreground() {
	hl__types__ArrayObj r2;
	vclosure *r5;
	kha__$System r3;
	vdynamic *r6;
	varray *r7;
	int r0, r4;
	r0 = 0;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->foregroundListeners;
	label$f550790_20_3:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r0 >= r4 ) goto label$f550790_20_18;
	r4 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r4) ) goto label$f550790_20_11;
	r5 = NULL;
	goto label$f550790_20_14;
	label$f550790_20_11:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r0];
	r5 = (vclosure*)r6;
	label$f550790_20_14:
	++r0;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	goto label$f550790_20_3;
	label$f550790_20_18:
	return;
}

void kha_System_resume() {
	hl__types__ArrayObj r2;
	vclosure *r5;
	kha__$System r3;
	vdynamic *r6;
	varray *r7;
	int r0, r4;
	r0 = 0;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->resumeListeners;
	label$f550790_21_3:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r0 >= r4 ) goto label$f550790_21_18;
	r4 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r4) ) goto label$f550790_21_11;
	r5 = NULL;
	goto label$f550790_21_14;
	label$f550790_21_11:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r0];
	r5 = (vclosure*)r6;
	label$f550790_21_14:
	++r0;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	goto label$f550790_21_3;
	label$f550790_21_18:
	return;
}

void kha_System_pause() {
	hl__types__ArrayObj r2;
	vclosure *r5;
	kha__$System r3;
	vdynamic *r6;
	varray *r7;
	int r0, r4;
	r0 = 0;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->pauseListeners;
	label$f550790_22_3:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r0 >= r4 ) goto label$f550790_22_18;
	r4 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r4) ) goto label$f550790_22_11;
	r5 = NULL;
	goto label$f550790_22_14;
	label$f550790_22_11:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r0];
	r5 = (vclosure*)r6;
	label$f550790_22_14:
	++r0;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	goto label$f550790_22_3;
	label$f550790_22_18:
	return;
}

void kha_System_background() {
	hl__types__ArrayObj r2;
	vclosure *r5;
	kha__$System r3;
	vdynamic *r6;
	varray *r7;
	int r0, r4;
	r0 = 0;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->backgroundListeners;
	label$f550790_23_3:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r0 >= r4 ) goto label$f550790_23_18;
	r4 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r4) ) goto label$f550790_23_11;
	r5 = NULL;
	goto label$f550790_23_14;
	label$f550790_23_11:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r0];
	r5 = (vclosure*)r6;
	label$f550790_23_14:
	++r0;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	goto label$f550790_23_3;
	label$f550790_23_18:
	return;
}

void kha_System_shutdown() {
	hl__types__ArrayObj r2;
	vclosure *r5;
	kha__$System r3;
	vdynamic *r6;
	varray *r7;
	int r0, r4;
	r0 = 0;
	r3 = (kha__$System)g$_kha_System;
	r2 = r3->shutdownListeners;
	label$f550790_24_3:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r0 >= r4 ) goto label$f550790_24_18;
	r4 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r4) ) goto label$f550790_24_11;
	r5 = NULL;
	goto label$f550790_24_14;
	label$f550790_24_11:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r0];
	r5 = (vclosure*)r6;
	label$f550790_24_14:
	++r0;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	goto label$f550790_24_3;
	label$f550790_24_18:
	return;
}

void kha_System_dropFiles(String r0) {
	hl__types__ArrayObj r3;
	vclosure *r6;
	kha__$System r4;
	vdynamic *r7;
	varray *r8;
	int r1, r5;
	r1 = 0;
	r4 = (kha__$System)g$_kha_System;
	r3 = r4->dropFilesListeners;
	label$f550790_25_3:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r1 >= r5 ) goto label$f550790_25_18;
	r5 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r5) ) goto label$f550790_25_11;
	r6 = NULL;
	goto label$f550790_25_14;
	label$f550790_25_11:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r1];
	r6 = (vclosure*)r7;
	label$f550790_25_14:
	++r1;
	if( r6 == NULL ) hl_null_access();
	r6->hasValue ? ((void (*)(vdynamic*,String))r6->fun)((vdynamic*)r6->value,r0) : ((void (*)(String))r6->fun)(r0);
	goto label$f550790_25_3;
	label$f550790_25_18:
	return;
}

double kha_System_get_time() {
	double r0;
	r0 = kha_SystemImpl_getTime();
	return r0;
}

int kha_System_windowWidth(int* r0) {
	kha__Window r3;
	int r1, r2;
	if( r0 ) goto label$f550790_27_3;
	r1 = 0;
	goto label$f550790_27_4;
	label$f550790_27_3:
	r1 = *r0;
	label$f550790_27_4:
	r3 = kha_Window_get(r1);
	if( r3 == NULL ) hl_null_access();
	r2 = kha_Window_get_width(r3);
	return r2;
}

int kha_System_windowHeight(int* r0) {
	hl__types__ArrayObj r3;
	kha__Window r5;
	vdynamic *r6;
	varray *r7;
	int r1, r2, r4;
	if( r0 ) goto label$f550790_28_3;
	r1 = 0;
	goto label$f550790_28_4;
	label$f550790_28_3:
	r1 = *r0;
	label$f550790_28_4:
	r3 = kha_Window_get_all();
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$f550790_28_10;
	r5 = NULL;
	goto label$f550790_28_13;
	label$f550790_28_10:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r5 = (kha__Window)r6;
	label$f550790_28_13:
	if( r5 == NULL ) hl_null_access();
	r2 = kha_Window_get_height(r5);
	return r2;
}

int kha_System_get_screenRotation() {
	int r0;
	r0 = 0;
	return r0;
}

String kha_System_get_systemId() {
	String r0;
	r0 = kha_SystemImpl_getSystemId();
	return r0;
}

void kha_System_vibrate(int r0) {
	kha_SystemImpl_vibrate(r0);
	return;
}

String kha_System_get_language() {
	String r0;
	r0 = kha_SystemImpl_getLanguage();
	return r0;
}

bool kha_System_stop() {
	bool r0;
	r0 = kha_SystemImpl_requestShutdown();
	return r0;
}

void kha_System_loadUrl(String r0) {
	kha_SystemImpl_loadUrl(r0);
	return;
}

bool kha_System_canSwitchFullscreen() {
	bool r0;
	r0 = true;
	return r0;
}

bool kha_System_isFullscreen() {
	bool r3;
	kha__Window r1;
	int r0, r2;
	r0 = 0;
	r1 = kha_Window_get(r0);
	if( r1 == NULL ) hl_null_access();
	r0 = kha_Window_get_mode(r1);
	r2 = 1;
	if( r0 == r2 ) goto label$f550790_36_16;
	r0 = 0;
	r1 = kha_Window_get(r0);
	if( r1 == NULL ) hl_null_access();
	r0 = kha_Window_get_mode(r1);
	r2 = 2;
	if( r0 == r2 ) goto label$f550790_36_14;
	r3 = false;
	goto label$f550790_36_15;
	label$f550790_36_14:
	r3 = true;
	label$f550790_36_15:
	return r3;
	label$f550790_36_16:
	r3 = true;
	return r3;
}

void kha_System_requestFullscreen() {
	kha__Window r1;
	int r0;
	r0 = 0;
	r1 = kha_Window_get(r0);
	if( r1 == NULL ) hl_null_access();
	r0 = 1;
	r0 = kha_Window_set_mode(r1,r0);
	return;
}

void kha_System_exitFullscreen() {
	kha__Window r1;
	int r0;
	r0 = 0;
	r1 = kha_Window_get(r0);
	if( r1 == NULL ) hl_null_access();
	r0 = 0;
	r0 = kha_Window_set_mode(r1,r0);
	return;
}

void kha_System_notifyOnFullscreenChange(vclosure* r0,vclosure* r1) {
	return;
}

void kha_System_removeFullscreenListener(vclosure* r0,vclosure* r1) {
	return;
}

void kha_System_changeResolution(int r0,int r1) {
	return;
}

void kha_System_requestShutdown() {
	bool r0;
	r0 = kha_System_stop();
	return;
}

bool kha_System_get_vsync() {
	bool r0;
	kha__Window r1;
	int r2;
	r2 = 0;
	r1 = kha_Window_get(r2);
	if( r1 == NULL ) hl_null_access();
	r0 = kha_Window_get_vSynced(r1);
	return r0;
}

int kha_System_get_refreshRate() {
	kha__Display r1;
	int r0;
	r1 = kha_Display_get_primary();
	if( r1 == NULL ) hl_null_access();
	r0 = kha_Display_get_frequency(r1);
	return r0;
}

int kha_System_screenDpi() {
	kha__Display r1;
	int r0;
	r1 = kha_Display_get_primary();
	if( r1 == NULL ) hl_null_access();
	r0 = kha_Display_get_pixelsPerInch(r1);
	return r0;
}

double kha_System_safeZone() {
	double r0;
	r0 = kha_SystemImpl_safeZone();
	return r0;
}

bool kha_System_automaticSafeZone() {
	bool r0;
	r0 = kha_SystemImpl_automaticSafeZone();
	return r0;
}

void kha_System_setSafeZone(double r0) {
	kha_SystemImpl_setSafeZone(r0);
	return;
}

void kha_System_unlockAchievement(int r0) {
	kha_SystemImpl_unlockAchievement(r0);
	return;
}

