// Generated by HLC 4.1.3 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <sys/FileSystem.h>
#include <_std/SysError.h>
vdynamic* String_charCodeAt(String,int);
extern hl_type t$_i32;
String haxe_io_Path_addTrailingSlash(String);
extern String s$6666cd7;
int String___compare(String,vdynamic*);
String haxe_io_Path_removeTrailingSlashes(String);
vbyte* Sys_getPath(String);
#include <hl/natives.h>
extern hl_type t$SysError;
extern String s$Failed_to_stat_;
String String___add__(String,String);
void SysError_new(SysError,String);
vdynamic* haxe_Exception_thrown(vdynamic*);
extern hl_type t$vrt_f4e89a1;
Date Date_fromInt(int);
extern hl_type t$Date;

vvirtual* sys_FileSystem_stat(String r0) {
	String r3, r8;
	Date r13;
	vvirtual *r12;
	SysError r11;
	vdynamic *r4, *r6, *r10;
	int r5, r7;
	vbyte *r2;
	varray *r1;
	if( r0 == NULL ) hl_null_access();
	r5 = 1;
	r4 = String_charCodeAt(r0,r5);
	r5 = 58;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r5;
	if( r4 != r6 && (!r4 || !r6 || (r4->v.i != r6->v.i)) ) goto label$71a15a3_1_11;
	r5 = r0->length;
	r7 = 3;
	if( r7 < r5 ) goto label$71a15a3_1_11;
	r3 = haxe_io_Path_addTrailingSlash(r0);
	goto label$71a15a3_1_16;
	label$71a15a3_1_11:
	r8 = (String)s$6666cd7;
	if( r0 != r8 && (!r0 || !r8 || String___compare(r0,(vdynamic*)r8) != 0) ) goto label$71a15a3_1_15;
	r3 = (String)s$6666cd7;
	goto label$71a15a3_1_16;
	label$71a15a3_1_15:
	r3 = haxe_io_Path_removeTrailingSlashes(r0);
	label$71a15a3_1_16:
	r2 = Sys_getPath(r3);
	r1 = hl_sys_stat(r2);
	if( r1 ) goto label$71a15a3_1_25;
	r11 = (SysError)hl_alloc_obj(&t$SysError);
	r3 = (String)s$Failed_to_stat_;
	r3 = String___add__(r3,r0);
	SysError_new(r11,r3);
	r10 = haxe_Exception_thrown(((vdynamic*)r11));
	hl_throw((vdynamic*)r10);
	label$71a15a3_1_25:
	r12 = hl_alloc_virtual(&t$vrt_f4e89a1);
	r5 = 0;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[3] ) *(int*)(hl_vfields(r12)[3]) = (int)r5; else hl_dyn_seti(r12->value,5145602/*gid*/,&t$_i32,r5);
	r5 = 1;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[10] ) *(int*)(hl_vfields(r12)[10]) = (int)r5; else hl_dyn_seti(r12->value,5841808/*uid*/,&t$_i32,r5);
	r5 = 2;
	r5 = ((int*)(r1 + 1))[r5];
	r13 = Date_fromInt(r5);
	if( hl_vfields(r12)[0] ) *(Date*)(hl_vfields(r12)[0]) = (Date)r13; else hl_dyn_setp(r12->value,115020147/*atime*/,&t$Date,r13);
	r5 = 3;
	r5 = ((int*)(r1 + 1))[r5];
	r13 = Date_fromInt(r5);
	if( hl_vfields(r12)[6] ) *(Date*)(hl_vfields(r12)[6]) = (Date)r13; else hl_dyn_setp(r12->value,262801146/*mtime*/,&t$Date,r13);
	r5 = 4;
	r5 = ((int*)(r1 + 1))[r5];
	r13 = Date_fromInt(r5);
	if( hl_vfields(r12)[1] ) *(Date*)(hl_vfields(r12)[1]) = (Date)r13; else hl_dyn_setp(r12->value,229128954/*ctime*/,&t$Date,r13);
	r5 = 5;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[9] ) *(int*)(hl_vfields(r12)[9]) = (int)r5; else hl_dyn_seti(r12->value,206807499/*size*/,&t$_i32,r5);
	r5 = 6;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[2] ) *(int*)(hl_vfields(r12)[2]) = (int)r5; else hl_dyn_seti(r12->value,4995541/*dev*/,&t$_i32,r5);
	r5 = 7;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[4] ) *(int*)(hl_vfields(r12)[4]) = (int)r5; else hl_dyn_seti(r12->value,5246186/*ino*/,&t$_i32,r5);
	r5 = 8;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[7] ) *(int*)(hl_vfields(r12)[7]) = (int)r5; else hl_dyn_seti(r12->value,-37296679/*nlink*/,&t$_i32,r5);
	r5 = 9;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[8] ) *(int*)(hl_vfields(r12)[8]) = (int)r5; else hl_dyn_seti(r12->value,195464621/*rdev*/,&t$_i32,r5);
	r5 = 10;
	r5 = ((int*)(r1 + 1))[r5];
	if( hl_vfields(r12)[5] ) *(int*)(hl_vfields(r12)[5]) = (int)r5; else hl_dyn_seti(r12->value,140563565/*mode*/,&t$_i32,r5);
	return r12;
}

