// Generated by HLC 4.1.3 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <haxe/NativeStackTrace.h>
#include <haxe/Exception.h>
extern hl_type t$haxe_Exception;
extern String s$;
extern String s$stack;
void haxe_Exception_new(haxe__Exception,String,haxe__Exception,vdynamic*);
#include <hl/natives.h>
extern hl_type t$String;
extern String s$NativeStackTrace_callStack;
int String_indexOf(String,String,vdynamic*);
extern hl_type t$_bytes;

void haxe_NativeStackTrace_saveStack(vdynamic* r0) {
	return;
}

varray* haxe_NativeStackTrace_callStack() {
	String r3, r5, r14;
	hl_type *r17;
	haxe__Exception r2, r4;
	vdynamic *r1, *r15;
	vbyte *r13;
	int r8, r9, r10, r11, r12, r16;
	varray *r6, *r7;
	hl_trap_ctx trap$0;
	hl_trap(trap$0,r1,label$c0b5e0e_2_8);
	r2 = (haxe__Exception)hl_alloc_obj(&t$haxe_Exception);
	r3 = (String)s$;
	r4 = NULL;
	r5 = (String)s$stack;
	haxe_Exception_new(r2,r3,r4,((vdynamic*)r5));
	hl_throw((vdynamic*)r2);
	hl_endtrap(trap$0);
	label$c0b5e0e_2_8:
	r7 = hl_exception_stack();
	r6 = r7;
	r8 = 1;
	r9 = 0;
	r10 = r7->size;
	r11 = 1;
	r10 = r10 - r11;
	label$c0b5e0e_2_15:
	if( r9 >= r10 ) goto label$c0b5e0e_2_33;
	r11 = r9;
	++r9;
	r13 = ((vbyte**)(r6 + 1))[r11];
	r3 = (String)hl_alloc_obj(&t$String);
	r3->bytes = r13;
	r12 = 0;
	r12 = hl_ucs2length(r13,r12);
	r3->length = r12;
	r14 = (String)s$NativeStackTrace_callStack;
	r15 = NULL;
	r12 = String_indexOf(r3,r14,r15);
	r16 = 0;
	if( r12 >= r16 ) goto label$c0b5e0e_2_31;
	goto label$c0b5e0e_2_33;
	label$c0b5e0e_2_31:
	++r8;
	goto label$c0b5e0e_2_15;
	label$c0b5e0e_2_33:
	r10 = r6->size;
	if( r8 >= r10 ) goto label$c0b5e0e_2_42;
	r9 = r6->size;
	r9 = r9 - r8;
	r17 = &t$_bytes;
	r7 = hl_alloc_array(r17,r9);
	r10 = 0;
	hl_array_blit(r7,r10,r6,r8,r9);
	return r7;
	label$c0b5e0e_2_42:
	return r6;
}

